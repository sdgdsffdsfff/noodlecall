var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijtree",i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){window.wijmoApplyWijTouchUtilEvents&&(n=window.wijmoApplyWijTouchUtilEvents(n)),this._useDOMInit=!0,this._initState(),this._createTree(),this._attachEvent(),this._attachNodeEvent()},t.prototype._setOption=function(e,t){var r=this,i=!1,s=r.options,o,u;switch(e){case"allowDrag":r._setAllowDrag(t);break;case"allowDrop":r._setAllowDrop(t);break;case"showCheckBoxes":r._setCheckBoxes(t);break;case"showExpandCollapse":r.options.showExpandCollapse!==t&&(i=!0);break;case"disabled":o=r.element.find(":wijmo-wijtreecheck"),o.length&&o.wijtreecheck("option","disabled",t),r._setAllowDrag(!t);break;default:}n.Widget.prototype._setOption.apply(r,arguments),e==="nodes"&&(t&&t.length&&(r._useDOMInit=!1),r._createChildNodes()),i===!0&&r._setHitArea(t)},t.prototype._initState=function(){var e=this,t=e.options;e._selectedNodes=[],e._checkedNodes=[],t.nodes||(t.nodes=[]),t.nodes&&t.nodes.length&&(e._useDOMInit=!1),e._enabled=!0,e._insertPosition="unKnown",e.nodeWidgetName="wijtreenode"},t.prototype._createTree=function(){var e=this,t=e.options,r=[],i=["wijmo-wijtree",t.wijCSS.widget,t.wijCSS.content,t.wijCSS.helperClearFix,t.wijCSS.cornerAll].join(" ");e.element.is("ul")?(e.$nodes=e.element,e.element.wrap("<div></div>"),e.widgetDom=e.element.parent()):e.element.is("div")&&(e.widgetDom=e.element,e.$nodes=e.widgetDom.children("ul:eq(0)")),e.$nodes.length&&(e.widgetDom.addClass(i).attr({role:"tree","aria-multiselectable":!0}),e.$nodes.addClass("wijmo-wijtree-list").addClass(t.wijCSS.helperReset),t.showExpandCollapse===!1&&e.$nodes.addClass("wijmo-wijtree-allexpanded"),e._createChildNodes(),e.widgetDom.append(n("<div>").css("clear","both"))),t.disabled&&e.disable()},t.prototype._createChildNodes=function(){var e=this,t={nIndex:undefined},r=[],i=e.$nodes,s=e.options.nodes,o=i.children("li");!e._useDOMInit||s.length?(i.empty(),n.each(s,function(n,s){var o=e._generateMarkup(s);i.append(o),t.nIndex=n,e._createNodeWidget(o,t),r.push(e._getNodeWidget(o))})):o.each(function(i,o){var u=n(o),a;e._createNodeWidget(u,t),a=e._getNodeWidget(u),r.push(a),s.push(a.options)}),e._hasChildren=r.length>0,e._setField("nodes",r),e.nodes=r},t.prototype._generateMarkup=function(e){var t,r,i=e.navigateUrl||"";if(!n.isPlainObject(e))return;return t=n("<li></li>"),r=n("<a>").attr("src",typeof i=="string"&&i?i:"#"),r.appendTo(t),typeof e.text=="string"&&e.text&&n("<span>").html(e.text).appendTo(r),t},t.prototype._createNodeWidget=function(e,t){var r=this,i=r.nodeWidgetName;return n.fn[i]&&(e.data("owner",this),!!t&&n.isPlainObject(t)?(n.extend(t,{treeClass:this.widgetFullName}),e[i](t)):e[i]({treeClass:this.widgetFullName})),e},t.prototype._attachEvent=function(){var e=this;e.element.bind(n.browser.msie?"focusin.":"focus."+e.widgetName,n.proxy(e._onFocus,e)).bind("mouseover."+this.widgetName,n.proxy(e._onMouseOver,e)),e.options.allowDrop&&e._attachDroppable()},t.prototype._attachDroppable=function(){var e=this,t=e.options,r={accept:"li",scope:"tree",drop:undefined},i=function(n){t.showCheckBoxes&&t.allowTriState&&!n.element.is(":"+e.widgetFullName)&&n._getField("nodes").length>0&&n._getField("nodes")[0]._setParentCheckState()},s=t.droppable;n.extend(r,s),r.drop=function(r,o){var u=o.draggable,a=e._getNodeWidget(u),f,l,c,h,p,d,v,m=-1;if(e._trigger("nodeBeforeDropped",r,o)===!1||!a||t.disabled){e._isDragging=!1;return}f=a._dropTarget,l=a._insertPosition;if(f&&l!=="unKnown"){c=u.data("owner"),c&&(v=u.index());if(l==="end")m=f._getField("nodes").length,h=f;else if(l==="before"||l==="after")h=f._getField("owner"),p=h._getField("nodes"),d=n.inArray(f,p),d!==-1&&(m=l==="before"?d:d+1);s&&n.isFunction(s.drop)?(o.oldParent=c.element,o.newParent=h.element,o.oldIndex=v,o.newIndex=m,s.drop.call(e.element,r,o)):(c&&c.remove(u),m!==-1&&((l==="before"||l==="after")&&d!=n.inArray(f,p)&&m--,e.$nodes.children("li").length?h.add(u,m):e.add(u,m))),n("a:eq(0)",u).blur(),a._tree._isDragging=!1,a.options.selected&&a._setSelected(!1),i(c),i(h),n.extend(o,{sourceParent:c?c.element:null,sIndex:v,targetParent:h.element,tIndex:m,widget:a}),e._trigger("nodeDropped",r,o)}},n.fn.droppable&&e.widgetDom.droppable(r)},t.prototype._attachNodeEvent=function(){this.element.bind("click."+this.widgetName,n.proxy(this._onClick,this)).bind("mouseout."+this.widgetName,n.proxy(this._onMouseOut,this)).bind("keydown."+this.widgetName,n.proxy(this._onKeyDown,this))},t.prototype._onClick=function(e){this._callEvent(e,"_onClick"),n.browser.webkit&&this.widgetDom.focus()},t.prototype._onFocus=function(e){this._callEvent(e,"_onFocus")},t.prototype._onKeyDown=function(e){this._callEvent(e,"_onKeyDown")},t.prototype._onMouseOut=function(e){this._callEvent(e,"_onMouseOut")},t.prototype._onMouseOver=function(e){this._callEvent(e,"_onMouseOver")},t.prototype._callEvent=function(e,t){var n=e.target,r;if(n){r=this._getNodeWidgetByDom(n);if(r===null)return;r[t](e)}},t.prototype._nodeSelector=function(){return":wijmo-wijtreenode"},t.prototype.getSelectedNodes=function(){return this._selectedNodes},t.prototype.getCheckedNodes=function(){var e=this,t=[],r=e.nodeWidgetName;return n(e._nodeSelector(),e.element).each(function(e,i){n(i)[r]("option","checked")&&n(i)[r]("option","checkState")!=="indeterminate"&&t.push(n(i))}),t},t.prototype.destroy=function(){var t=this,r=t.$nodes,i=t.options,s=["wijmo-wijtree",i.wijCSS.widget,i.wijCSS.content,i.wijCSS.helperClearFix,i.wijCSS.cornerAll].join(" ");t.widgetDom.removeClass(s).removeAttr("role").removeAttr("aria-multiselectable"),t.widgetDom.data("uiDroppable")&&t.widgetDom.droppable("destroy"),t.widgetDom.children("div[style]:last").remove(),r.removeData("nodes").removeClass("wijmo-wijtree-list").removeClass(i.wijCSS.helperReset),r.children("li").each(function(e,r){var i=t._getNodeWidget(n(r));i&&i.destroy()}),n.wijmo.wijtree.prototype.options.nodes=null,e.prototype.destroy.call(this)},t.prototype.add=function(e,t){var r=null,i={},s,o,u=this,a,f,l="<li><a href='{0}'>{1}</a></li>",c;typeof e=="string"?(s=n(l.replace(/\{0\}/,"#").replace(/\{1\}/,e)),u._createNodeWidget(s,i),r=s.data(s.data("widgetName"))):e.jquery?(e.data("widgetName")||u._createNodeWidget(e,i),r=e.data(e.data("widgetName"))):e.nodeType?(s=n(e),u._createNodeWidget(s,i),r=s.data(s.data("widgetName"))):n.isPlainObject(e)&&(s=n(l.replace(/\{0\}/,e.url?e.url:"#").replace(/\{1\}/,e.text)),u._createNodeWidget(s,e),r=s.data(s.data("widgetName")));if(r===null)return;o=u._getField("nodes"),(!t||t>o.length)&&t!==0&&(t=o.length),c=r._getField("nodes"),r._tree=u;for(a=0;a<c.length;a++)c[a]._tree=u;r._setField("owner",this),f=o.length,f>0&&f!==t?r.element.get(0)!==o[t].element.get(0)&&r.element.insertBefore(o[t].element):u.$nodes.append(r.element),u._changeCollection(t,r),r._initNodeClass()},t.prototype.remove=function(e){var t=-1,n,r;e&&e.jquery?t=e.index():typeof e=="number"&&(t=e),r=this._getField("nodes");if(t<0||t>=r.length)return;n=r[t],n.element.detach(),this._changeCollection(t)},t.prototype._changeCollection=function(e,t){var n=this._getField("nodes"),r=this.options.nodes;t?(n.splice(e,0,t),r.splice(e,0,t.options)):(n.splice(e,1),r.splice(e,1))},t.prototype.getNodes=function(){return this.nodes},t.prototype.findNodeByText=function(e){var t=n(".wijmo-wijtree-node a>span",this.$nodes).filter(function(){return n(this).text()===e});return t.length?this._getNodeWidgetByDom(t.get(0)):null},t.prototype._setAllowDrag=function(e){var t=this,r,i=t._nodeSelector(),s="wijmoWijtreenode";if(!n.fn.draggable)return;e?(r=t.element.find(i),r.each(function(){var e=n(this).data(s);(!n(this).data("uiDraggable")&&!e.$navigateUrl.data("events")||!e.$navigateUrl.data("events").mousedown)&&e.$navigateUrl.one("mousedown",e,e._onMouseDown)})):(r=t.element.find(i+":ui-draggable"),r.draggable("destroy"))},t.prototype._setAllowDrop=function(e){if(!n.fn.droppable)return;e?this.widgetDom.data("uiDroppable")||this._attachDroppable():this.widgetDom.droppable&&this.widgetDom.droppable("destroy")},t.prototype._setCheckBoxes=function(e){var t=this;t.$nodes.children("li").each(function(r,i){var s=t._getNodeWidget(n(i));s!==null&&s._setCheckBoxes(e)})},t.prototype._setHitArea=function(e){var t=this;t.$nodes[e?"addClass":"removeClass"]("wijmo-wijtree-allexpanded"),t.$nodes.children("li").each(function(r,i){var s=t._getNodeWidget(n(i));s!==null&&s._setHitArea(e)})},t.prototype._getNodeWidget=function(e){if(e.is(this._nodeSelector())){var t=e.data(e.data("widgetName"));return t}return null},t.prototype._getNodeWidgetByDom=function(e){var t=this._getNodeByDom(e);return this._getNodeWidget(t)},t.prototype._getNodeByDom=function(e){return n(e).closest(this._nodeSelector())},t.prototype._refreshNodesClass=function(){var e=this._getField("nodes"),t;for(t=0;t<e.length;t++)e[t]._initNodeClass()},t.prototype._getField=function(e){return this.element.data(e)},t.prototype._setField=function(e,t){return this.element.data(e,t)},t}(e.wijmoWidget);t.wijtree=i;var s=function(t){function r(){t.apply(this,arguments)}return __extends(r,t),r.prototype._setOption=function(e,t){var r=this,i,s;switch(e){case"accessKey":r.$navigateUrl!==null&&r.$navigateUrl.attr("accesskey",t);break;case"checked":r._checkState=t?"checked":"unChecked",r._setChecked(t);break;case"collapsedIconClass":case"expandedIconClass":case"itemIconClass":r.options[e]=t,r._initNodeImg();break;case"expanded":r._setExpanded(t);break;case"selected":r._setSelected(t);break;case"text":r._setText(t);break;case"toolTip":r._setToolTip(t);break;case"navigateUrl":r._setNavigateUrlHref(t);break;case"disabled":if(r._isClosestDisabled()&&t===!0)return;i=r.element.find(":wijmo-wijtreecheck"),i.length&&i.wijtreecheck("option","disabled",t);break;default:}e==="nodes"?(r.options.nodes.length=0,n.each(t,function(e,t){r.options.nodes.push(t)}),r.options.nodes.concat(),r._hasChildren=r._getChildren(),r._createChildNodes(r.element),r._initNodeClass()):n.Widget.prototype._setOption.apply(r,arguments)},r.prototype._initState=function(){this._tree=null,this._dropTarget=null,this._checkState="unChecked",this._value=this._text=this._navigateUrl="",this._insertPosition="unKnown",this._hasNodes=!1},r.prototype._create=function(){var e=this,t=e.options;e._initState(),e._createTreeNode(),e._initNode(),e.element.data("widgetName","wijmoWijtreenode"),t.selected&&e._tree._selectedNodes.push(e),t.checked&&(e._checkState="checked",e.$checkBox&&(t.checkState==="indeterminate"?e.$checkBox.wijtreecheck("option","checkState","triState"):e.$checkBox.wijtreecheck("option","checkState","check")))},r.prototype._createTreeNode=function(){var e=this.element,t,r,i=this,s,o=i.options,u=[];this.$navigateUrl=e.children("a"),i._tree===null&&(i._tree=i._getTree()),isNaN(o.nIndex)?o.nodes||(o.nodes=[]):(s=i._getOwner().options,r=s.nodes[o.nIndex],r&&!r.nodes&&(r.nodes=[]),n.extend(o,r),s.nodes[o.nIndex]=o),i.$nodeBody=null,i.$checkBox=null,i.$hitArea=null,i.$nodes=null,i.$nodeImage=n("<span>"),i.$nodeBody=n("<div>").attr({role:"treeitem","aria-expanded":!1,"aria-checked":!1,"aria-selected":!1}),i._tree.options.showCheckBoxes===!0&&(i.$checkBox=n("<div>")),i.$navigateUrl.length===0&&(i.$navigateUrl=e.children("div"),i.$navigateUrl.addClass("wijmo-wijtree-template"),i._isTemplate=!0),i.$navigateUrl.length===0&&(i.$navigateUrl=n("<a>"),i.$navigateUrl.attr("href","#")),i._isTemplate||(i.$text=i.$navigateUrl.find("span:eq(0)"),i.$text.length===0&&(i.$navigateUrl.wrapInner("<span></span>"),i.$text=i.$navigateUrl.find("span:eq(0)"))),i._hasChildren=i._getChildren(),i.$inner=n("<span></span>").addClass(o.wijCSS.helperClearFix).addClass("wijmo-wijtree-inner").addClass(o.wijCSS.cornerAll),i._createChildNodes(e),i.$inner.append(i.$nodeImage),i.$checkBox!==null&&(i.$inner.append(i.$checkBox),i.$checkBox.wijtreecheck()),i.$inner.append(i.$navigateUrl),i.$nodeBody.append(i.$inner),e.prepend(i.$nodeBody)},r.prototype._createChildNodes=function(e){var t=this,r=[],i=t.options;t._hasChildren?(e.addClass("wijmo-wijtree-parent"),t.$nodeBody.addClass("wijmo-wijtree-node").addClass("wijmo-wijtree-header").addClass(i.wijCSS.stateDefault),t.$hitArea=n("<span>"),t.$inner.prepend(t.$hitArea),t.$nodes=e.find("ul:eq(0)"),r=t._createChildNode(),t.$nodes.addClass("wijmo-wijtree-list").addClass(i.wijCSS.helperReset).addClass("wijmo-wijtree-child")):(e.addClass("wijmo-wijtree-item"),t.$nodeBody.addClass("wijmo-wijtree-node").addClass(i.wijCSS.stateDefault)),e.css("list-style-type","none"),t._setField("nodes",r)},r.prototype._createChildNode=function(){var e=this,t=e.options,r=[],i={nIndex:undefined,treeClass:undefined,cfli:undefined,nodes:undefined};return t.nodes&&t.nodes.length?(e.$nodes&&e.$nodes.length?e.$nodes.empty():e.$nodes=n("<ul>").appendTo(e.element),n.each(t.nodes,function(n,s){var o=e._generateMarkup(s),u;e.$nodes.append(o),o.data("owner",e),i.nIndex=n,i.treeClass=t.treeClass,o.wijtreenode(i),u=e._getNodeWidget(o),u._index=n,r.push(u)})):(t.nodes||(t.nodes=[]),e.$nodes.children("li").each(function(s,o){var u=n(o),a;u.data("owner",e),i.cfli=!0,i.nIndex=s,i.treeClass=t.treeClass,i.nodes=[],u.wijtreenode(i),a=e._getNodeWidget(u),a._index=s,r.push(a)})),r},r.prototype._generateMarkup=function(e){var t,r,i=e.navigateUrl||"";if(!n.isPlainObject(e))return;return t=n("<li></li>"),r=n("<a>").attr("src",typeof i=="string"&&i?i:"#"),r.appendTo(t),typeof e.text=="string"&&e.text&&n("<span>").html(e.text).appendTo(r),t},r.prototype._initNode=function(){var e=this,t=e.options;e._initialized||(e._initialized=!0,e._initNavigateUrl(),!e._isTemplate&&e.$text&&(e._text=e.$text.html(),t.text=e.$text.html()),e._hasChildren=e._getChildren(),e._initNodesUL(),e._initNodeClass(),e._initNodeImg(),e._initCheckBox(),e.$navigateUrl.one("mousedown",e,e._onMouseDown))},r.prototype._initNodeClass=function(){var e=this,t=e.options,r,i="wijmo-wijtree-item",s=t.wijCSS.icon+" "+(t.expanded?t.wijCSS.iconArrowRightDown:t.wijCSS.iconArrowRight);e._tree.options.showExpandCollapse&&(e._hasChildren||!!t.hasChildren?(e.$hitArea!==null?e.$hitArea.removeClass([t.wijCSS.icon,t.wijCSS.iconArrowRightDown,t.wijCSS.iconArrowRight].join(" ")).addClass(s):(e.$hitArea=n("<span>").addClass(s).prependTo(e.$inner),e.element.removeClass(i).addClass("wijmo-wijtree-parent")),e._hasChildren&&(r=t.expanded?"":"none",e.$nodes.css({display:r}))):e.$hitArea&&(e.$hitArea.remove(),e.$hitArea=null,e.element.removeClass("wijmo-wijtree-parent").addClass(i))),!e._hasChildren&&e.$nodes&&e.$nodes.css({display:"none"}),t.selected&&e.$inner&&e.$inner.addClass(t.wijCSS.stateActive)},r.prototype._initCheckBox=function(){var e=this,t=e.options;if(e.$checkBox&&t.checkState)switch(t.checkState){case"checked":e.$checkBox.wijtreecheck("option","checkState","check");break;case"indeterminate":e.$checkBox.wijtreecheck("option","checkState","triState");break;case"unChecked":e.$checkBox.wijtreecheck("option","checkState","unCheck");break;default:e.$checkBox.wijtreecheck("option","checkState","unCheck")}},r.prototype._initNodesUL=function(){var e=this;e._tree.options.showExpandCollapse&&e._hasChildren&&e.$nodes[e._expanded?"show":"hide"]()},r.prototype._initNavigateUrl=function(){var e=this,t=e.$navigateUrl.attr("href");e.$navigateUrl.bind("blur."+e.widgetName,e,e._onBlur),this._isTemplate||(e._navigateUrl=t?t:"",e._setNavigateUrlHref(t))},r.prototype._applyIconClass=function(e,t){e.attr("expandediconclass")&&(t.expandedIconClass=e.attr("expandediconclass"),e.removeAttr("expandediconclass")),e.attr("collapsediconclass")&&(t.collapsedIconClass=e.attr("collapsediconclass"),e.removeAttr("collapsediconclass")),e.attr("itemiconclass")&&(t.itemIconClass=e.attr("itemiconclass"),e.removeAttr("itemiconclass"))},r.prototype._initNodeImg=function(){var e=this,t=e.options,r=e.element;if(e.$nodeImage===null||!e.$nodeImage.length)e.$nodeImage=n("<span>");e._applyIconClass(r,t),t.collapsedIconClass!==""&&t.expandedIconClass!==""?(e.$nodeImage.removeClass().addClass(t.wijCSS.icon).addClass(t.expanded?t.expandedIconClass:t.collapsedIconClass),e._tree.options.showExpandCollapse||e.$nodeImage.addClass(t.expandedIconClass),e.$nodeImage.insertBefore(e.$checkBox)):t.itemIconClass!==""&&(e.$nodeImage.removeClass().addClass(t.wijCSS.icon),e.$nodeImage.addClass(t.itemIconClass),e.$nodeImage.insertBefore(e.$checkBox))},r.prototype._setNavigateUrlHref=function(e){if(this.$navigateUrl){if(e===""||typeof e=="undefined")e="#";this.$navigateUrl.attr("href",e)}},r.prototype._editNode=function(){this._tree._editMode=!0,this.$navigateUrl.hide(),this.$editArea||(this.$editArea=n('<input type="text">').wijtextbox()),this.$editArea.val(this.$text.html()),this.$editArea.insertBefore(this.$navigateUrl),this.$editArea.bind("blur",this,this._editionComplete),this.$editArea.focus()},r.prototype._editionComplete=function(e){var t=e.data,n;t._tree._editMode=!1,t.$editArea&&(n=t.$editArea.val(),t.$editArea.remove()),t.$navigateUrl.show(),t.$editArea=null,t._changeText(n)},r.prototype._changeText=function(e){var t=this,n=t.options;t.$text!==null&&e!==""&&(t.$text.text(e),n.text=e,t._tree._trigger("nodeTextChanged",null,t))},r.prototype._expandCollapseItem=function(){var e=this,t=e.options;!e._tree.options.disabled&&!e._isClosestDisabled()&&(e._hasChildren||t.hasChildren)&&e._setExpanded(!t.expanded)},r.prototype._expandNode=function(e){var t=this,n=t._tree.options,r=e?"nodeExpanding":"nodeCollapsing";if(t._tree._trigger(r,null,{node:this,params:this.options.params})===!1)return;t.$nodeBody.attr("aria-expanded",e),t._expanded=e,t.options.expanded=e,!n.disabled&&!t._isClosestDisabled()&&(e?n.expandDelay>0?(typeof t._expandTimer!="undefined"&&(t._expandTimer=window.clearTimeout(t._expandTimer)),t._expandTimer=window.setTimeout(function(){t._expandNodeVisually()},n.expandDelay)):t._expandNodeVisually():n.collapseDelay>0?(t._collapseTimer=window.clearTimeout(t._collapseTimer),t._collapseTimer=window.setTimeout(function(){t._collapseNodeVisually()},n.collapseDelay)):t._collapseNodeVisually())},r.prototype._expandNodeVisually=function(){var e=this,t,r=e.options;e._tree.options.autoCollapse&&(t=e.element.siblings(":"+this.widgetFullName),n.each(t,function(n){var r=e._getNodeWidget(t[n]);r.options.expanded&&r._setExpanded(!1)})),r.collapsedIconClass!==""&&r.expandedIconClass!==""&&e.$nodeImage.removeClass(r.collapsedIconClass).addClass(r.expandedIconClass),e._internalSetNodeClass(!0),e._show()},r.prototype._collapseNodeVisually=function(){var e=this;e.options.collapsedIconClass!==""&&e.options.expandedIconClass!==""&&e.$nodeImage.removeClass(e.options.expandedIconClass).addClass(e.options.collapsedIconClass),e._internalSetNodeClass(!1),e._hide()},r.prototype._internalSetNodeClass=function(e){var t=this.options.wijCSS,n=[t.icon,t.iconArrowRightDown,t.iconArrowRight].join(" ");this.$hitArea&&this.$hitArea.removeClass(n).addClass(t.icon).addClass(e?t.iconArrowRightDown:t.iconArrowRight)},r.prototype._show=function(){this._animation(!0)},r.prototype._hide=function(){this._animation(!1)},r.prototype._animation=function(e){var t=this,r=t.$nodes,i=e?"expandAnimation":"collapseAnimation",s=e?"nodeExpanded":"nodeCollapsed",o,u=t._tree.options[i];r&&(r.css("opacity",1),n.browser.msie&&parseInt(n.browser.version)<9&&r.css("filter","alpha(opacity=1); ZOOM: 1"),u?(o=u.animated||u.effect,n.effects&&!!o?r[e?"show":"hide"](o,{easing:u.easing},u.duration,function(){t._tree._trigger(s,null,t)}):r[e?"show":"hide"](u.duration,function(){t._tree._trigger(s,null,t)})):(r[e?"show":"hide"](),t._tree._trigger(s,null,t)))},r.prototype._getBounds=function(e){var t=e.height(),n=e.width(),r=e.offset().top,i=e.offset().left;return{h:t,w:n,t:r,l:i}},r.prototype._isMouseInsideRect=function(e,t){return e.x<t.l||e.x>=t.l+t.w?!1:e.y<=t.t+1||e.y>=t.t+t.h?!1:!0},r.prototype._getNodeByMouseOn=function(e){return n("li").each(function(){var t=this._getBounds(n(this));if(n.ui.isOver(e.y,e.x,t.t,t.l,t.h,t.w))return n(this)}),null},r.prototype._drowTemplate=function(e,t,n){var r="unKnown",i=n.is(".wijmo-wijtree-node")?n:n.children(".wijmo-wijtree-node"),s=this._getBounds(i);return t.width(i.width()),e.y>s.t&&e.y<s.t+s.h/2?(t.offset({left:s.l,top:s.t}),r="before"):e.y>s.t+s.h/2&&e.y<s.t+s.h&&(t.offset({left:s.l,top:s.t+s.h}),r="after"),r},r.prototype._beginDrag=function(e){var t=this,r=t.element,i,s=t._tree.options,o=s.draggable,u={cursor:"point",cursorAt:{top:15,left:-25},helper:function(){return n("<div>"+t.$navigateUrl.html()+"</div>").addClass(s.wijCSS.header).addClass(s.wijCSS.cornerAll)},distance:n.browser.msie?1:10,handle:t.$navigateUrl,scope:"tree",stop:undefined,start:undefined,drag:undefined},a=n("<div>").addClass("wijmo-wijtree-insertion").addClass(s.wijCSS.stateDefault);typeof s.dropVisual=="string"?(i=n(s.dropVisual),a=i.length?i:a):n.isFunction(s.dropVisual)&&(i=n(s.dropVisual.call()),a=i.length?i:a),a.hide(),n.extend(u,o),u.start=function(e,i){t._tree._isDragging=!0,t._tree.widgetDom.prepend(a),t._tree._trigger("nodeDragStarted",e,t),o&&n.isFunction(o.start)?o.start.call(t.element,e,i):r.hide()},u.drag=function(e,r){var i=e.srcElement||e.originalEvent.target,s=n(i),u,f={x:e.pageX,y:e.pageY};a&&a.hide(),s&&(u=t._getNodeWidget(s),u&&!u._tree.options.disabled?(s.closest(".wijmo-wijtree-inner",t.element).length?t._insertPosition="end":(a.show(),t._insertPosition=t._drowTemplate(f,a,u.element)),u!=t&&(t._dropTarget=u)):s.is(":"+t.options.treeClass)&&(t._dropTarget=s.data(t.options.treeClass),t._insertPosition="end")),t._tree._trigger("nodeDragging",e,t),o&&n.isFunction(o.drag)&&o.drag.call(t.element,e,r)},u.stop=function(e,i){a.remove(),t._dropTarget=null,t._insertPosition="unKnown",t._tree._isDragging=!1,o&&n.isFunction(o.stop)?o.stop.call(t.element,e,i):(r.show(),t._resetDrag())},n.fn.draggable&&(r.draggable(u).trigger(e),n.browser.mozilla&&t._setFocused(!0))},r.prototype._resetDrag=function(){var e=this,t,n;!e._tree.options.allowDrag&&e.element.data("uiDraggable")&&e.element.draggable("destroy"),t=e._getField("nodes");for(n=0;n<t.length;n++)t[n]._resetDrag()},r.prototype._checkClick=function(){var e=this,t=e.options;!e._tree.options.disabled&&!e._isClosestDisabled()&&(t.checked&&e._checkState==="indeterminate"?(e._checkState="checked",e._checkItem()):(e._checkState=t.checked?"unChecked":"checked",e._setChecked(!t.checked)),e._tree._trigger("nodeCheckChanged",null,e))},r.prototype._checkItem=function(){var e=this,t=!1,n=e._tree;if(n===null||!n.options.showCheckBoxes)return;n.options.autoCheckNodes&&e._checkState!=="indeterminate"&&(t=!0,e._changeCheckState(e.options.checked)),n.options.allowTriState&&e._setParentCheckState(),e[e.options.checked?"_checkNode":"_unCheckNode"](t)},r.prototype._checkNode=function(e){var t=this,n=t.options,r=this._getField("nodes"),i;t._checkState==="checked"?(t.$checkBox.wijtreecheck("option","checkState","check"),n.checkState="checked"):t._checkState==="indeterminate"&&(t.$checkBox.wijtreecheck("option","checkState","triState"),n.checkState="indeterminate");if(e)for(i=0;i<r.length;i++)r[i]._checkNode(!0)},r.prototype._unCheckNode=function(e){var t=this._getField("nodes"),n=this.options,r;this.$checkBox.wijtreecheck("option","checkState","unCheck"),n.checkState="unChecked";if(e)for(r=0;r<t.length;r++)t[r]._unCheckNode(!0)},r.prototype._changeCheckState=function(e){var t=this._getField("nodes");n.each(t,function(t,n){n.options.checked=e,n.$nodeBody.attr("aria-checked",e),n._checkState=e?"checked":"unChecked",n._changeCheckState(e)})},r.prototype._setParentCheckState=function(){var e=this._getOwner(),t,n=!0,r=!1,i=!1,s,o=this;if(e.element.is(":"+o.options.treeClass))return;t=e._getField("nodes");for(s=0;s<t.length;s++){t[s]._checkState==="indeterminate"&&(i=!0),t[s].options.checked?r=!0:n=!1;if(!n&&r)break}i?(e._checkState="indeterminate",e._setChecked(!0)):r?(n?(e._checkState="checked",e._checkNode(!1)):e._checkState="indeterminate",e._setChecked(!0)):(e._checkState="unChecked",e._setChecked(!1),e._unCheckNode(!1)),e._setParentCheckState()},r.prototype._onKeyDown=function(e){var t=n(e.target),r=this;t.closest(".wijmo-wijtree-inner",r.element).length>0&&r._keyAction(e)},r.prototype._onClick=function(e){var t=n(e.target),r=this;t.closest(".wijmo-checkbox",r.element).length>0?(r._checkClick(),e.preventDefault(),e.stopPropagation()):r.$hitArea&&r.$hitArea[0]===t[0]?(r._expandCollapseItem(),e.preventDefault(),e.stopPropagation()):t.closest(".wijmo-wijtree-inner",r.element).length>0&&r._click(e)},r.prototype._onMouseDown=function(e){var t=n(e.target),r=e.data;!r._tree.options.disabled&&r._tree.options.allowDrag&&t.closest(".wijmo-wijtree-node",r.element).length>0&&r._beginDrag(e)},r.prototype._onMouseOver=function(e){var t=n(e.target),r=this,i=n(e.relatedTarget);t.closest(".wijmo-wijtree-inner",r.element).length>0&&(this._tree._overNode!==r||i.is(":"+this.widgetFullName))&&(r._mouseOver(e),this._tree._overNode=r),r._mouseOverHitArea(e)},r.prototype._onMouseOut=function(e){var t=n(e.target),r=this,i=n(e.relatedTarget),s=this._getNodeWidget(i);t.closest(".wijmo-wijtree-inner",r.element).length>0&&(this._tree._overNode!==s||i.is(":"+this.widgetFullName)||i.is(".wijmo-wijtree-list")||i.is(".ui-effects-wrapper"))&&(r._mouseOut(e),s||(this._tree._overNode=null)),r._mouseOutHitArea(e)},r.prototype._onFocus=function(e){var t=n(e.target),r=this,i=r.options.wijCSS;t.closest(".wijmo-wijtree-inner",r.element).length>0&&!r._tree.options.disabled&&!r._isClosestDisabled()&&!t.hasAllClasses(i.iconArrowRightDown)&&!t.hasAllClasses(i.iconArrowRight)&&!t.closest(".wijmo-checkbox",r.element).length&&(r._tree._focusNode&&r._tree._focusNode.$navigateUrl.blur(),r._focused=!0,r._tree._focusNode=this,r.$inner.addClass(i.stateFocus),r._tree._trigger("nodeFocus",e,r))},r.prototype._onBlur=function(e){var t=n(e.target),r=e.data,i=r.options.wijCSS;!r._tree.options.disabled&&!r._isClosestDisabled()&&(r._focused=!1,t.closest(".wijmo-wijtree-inner",r.element).length>0&&r.$inner.removeClass(i.stateFocus),r._tree._trigger("nodeBlur",e,r))},r.prototype._click=function(e){var t=this,r=t.options,i=t._tree,s=t.$navigateUrl.attr("href");if(!i.options.disabled&&!t._isClosestDisabled()){if(!/^[#,\s]*$/.test(s)){if(!n.browser.msie||!/^7\.[\d]*/.test(n.browser.version))return;if(s.indexOf(window.location.href)<0)return}t._isClick=!0,i._ctrlKey=e.ctrlKey,r.selected&&i._ctrlKey?t._setSelected(!1):r.selected&&!t._tree._editMode&&i.options.allowEdit&&!t._isTemplate?t._editNode():t._setSelected(!r.selected),t._isTemplate||(e.preventDefault(),e.stopPropagation())}else t._setNavigateUrlHref("")},r.prototype._selectNode=function(e,t){var r=this,i=r.options,s,o;!r._tree.options.disabled&&!r._isClosestDisabled()&&!r._tree._isDragging&&(s=r._tree._ctrlKey,s?(o=n.inArray(r,r._tree._selectedNodes),o!==-1&&!e&&(r._tree._selectedNodes.splice(o,1),r.$inner.removeClass(i.wijCSS.stateActive))):(n.each(r._tree._selectedNodes,function(e,t){t.$inner.removeClass(i.wijCSS.stateActive),t.options.selected=!1,t.$nodeBody.attr("aria-selected",!1)}),r._tree._selectedNodes=[]),e?(o=n.inArray(r,r._tree._selectedNodes),o===-1&&this._tree._selectedNodes.push(r),r.$inner.addClass(i.wijCSS.stateActive)):r.$inner.removeClass(i.wijCSS.stateActive),r._isClick&&r._tree._trigger("nodeClick",t,r),r._isClick=!1,r._tree._ctrlKey=!1,r._tree._trigger("selectedNodeChanged",t,r))},r.prototype._keyAction=function(t){var n=t.target,r=this,i=!1,s=e.getKeyCodeEnum();if(r._tree.options.disabled||r._isClosestDisabled())return;if(n){if(r._tree._editMode&&t.keyCode!==s.ENTER)return;switch(t.keyCode){case s.UP:r._moveUp();break;case s.DOWN:r._moveDown();break;case s.RIGHT:r._tree.options.showExpandCollapse&&r._moveRight();break;case s.LEFT:r._tree.options.showExpandCollapse&&r._moveLeft();break;case 83:!r._tree._editMode&&r._tree.options.allowSorting&&r.sortNodes();break;case 113:r._tree.options.allowEdit&&r._editNode();break;case 109:r._tree.options.showExpandCollapse&&this._expanded&&r._setExpanded(!1);break;case 107:r._tree.options.showExpandCollapse&&!this._expanded&&r._setExpanded(!0);break;case s.ENTER:r._tree._editMode&&(t.data=r,r._editionComplete(t),r._setFocused(!0),i=!0,t.preventDefault());break;case s.SPACE:r._tree.options.showCheckBoxes&&(r._checkState=r.options.checked?"unChecked":"checked",r._setChecked(!r.options.checked))}r._customKeyDown(t.keyCode,i),!r._isTemplate&&t.keyCode!==s.ENTER&&(t.preventDefault(),t.stopPropagation())}},r.prototype._customKeyDown=function(e,t){},r.prototype._prevNode=function(e){var t=e.element;if(t.prev().length>0)return t.prev().data(t.data("widgetName"))},r.prototype._nextNode=function(e){var t=e.element;if(t.next().length>0)return t.next().data(t.data("widgetName"))},r.prototype._getNextExpandedNode=function(e){var t=e,n=e._getField("nodes"),r;return e._expanded&&n.length>0&&(r=n[n.length-1],r!==null&&(t=this._getNextExpandedNode(r))),t},r.prototype._getNextNode=function(e){var t=null,n=this;return e.element.is(":"+n.options.treeClass)?null:(t=n._nextNode(e),t?t:n._getNextNode(e._getOwner()))},r.prototype._moveUp=function(){var e=this._getCurrentLevel(),t=this._prevNode(this);t?this._getNextExpandedNode(t)._setFocused(!0):e>0&&this._getOwner()._setFocused(!0)},r.prototype._moveDown=function(){var e=this._getField("nodes"),t,n,r;this._expanded&&e.length>0?e[0]._setFocused(!0):(t=this._nextNode(this),t?t._setFocused(!0):(n=this._getOwner(),r=this._getNextNode(n),r&&r._setFocused(!0)))},r.prototype._moveLeft=function(){var e=this._getOwner();this._expanded?this._setExpanded(!1):e!==null&&!e.element.is(":"+this.options.treeClass)&&e._setFocused(!0)},r.prototype._moveRight=function(){if(this._hasChildren)if(!this._expanded)this._setExpanded(!0);else{var e=this._getField("nodes")[0];e!==null&&e._setFocused(!0)}},r.prototype._mouseOver=function(e){var t=this,n=t._tree;!n.options.disabled&&!t._isClosestDisabled()&&!n._editMode&&(t._mouseOverNode(),n._isDragging||n._trigger("nodeMouseOver",e,t))},r.prototype._mouseOut=function(e){var t=this,n=t._tree;!n.options.disabled&&!t._isClosestDisabled()&&!n._editMode&&(t._mouseOutNode(),n._isDragging||n._trigger("nodeMouseOut",e,t))},r.prototype._mouseOverNode=function(){this.$inner!==null&&!this._isOverNode&&(this.$inner.addClass(this.options.wijCSS.stateHover),this._isOverNode=!0)},r.prototype._mouseOutNode=function(){this.$inner!==null&&this._isOverNode&&(this.$inner.removeClass(this.options.wijCSS.stateHover),this._isOverNode=!1)},r.prototype._mouseOverHitArea=function(e){var t,n,r=this,i=r._tree;!i.options.disabled&&!r._isClosestDisabled()&&i.options.expandCollapseHoverUsed&&r._hasChildren&&!r._isOverHitArea&&(t=r._getBounds(r.element),n={x:e.pageX,y:e.pageY},r._isMouseInsideRect(n,t)&&(r._isOverHitArea=!0,r._setExpanded(!0)))},r.prototype._mouseOutHitArea=function(e){var t={x:e.pageX,y:e.pageY},n,r=this,i=r._tree;!i.options.disabled&&!r._isClosestDisabled()&&i.options.expandCollapseHoverUsed&&(r._hasChildren&&!!r._isOverHitArea?(n=r._getBounds(r.element),r._isMouseInsideRect(t,n)||(r._isOverHitArea=!1,r._setExpanded(!1))):r._getOwner().element.is(":"+r.widgetFullName)&&(n=r._getBounds(r._getOwner().element),r._isMouseInsideRect(t,n)||(r._getOwner()._isOverHitArea=!1,r._getOwner()._setExpanded(!1))))},r.prototype.destroy=function(){var e=this,t,r=e.options;e.element.data("uiDraggable")&&e.element.draggable("destroy"),e.$hitArea&&e.$hitArea.remove(),e.$checkBox&&e.$checkBox.remove(),e.$nodeImage&&e.$nodeImage.remove(),e.$navigateUrl.unwrap().unwrap().removeClass(r.wijCSS.stateDefault).removeClass(r.wijCSS.stateActive).unbind("mousedown").unbind("blur"),t=this.element.find("ul:first").show(),t.removeClass(),t.children("li").each(function(){var t=e._getNodeWidget(n(this));t.destroy()}),e.element.removeData("nodes").removeData("owner").removeData("widgetName").removeClass(),n.Widget.prototype.destroy.apply(this)},r.prototype.add=function(e,t){var r=null,i,s,o=this,u,a,f="<li><a href='{0}'>{1}</a></li>",l;typeof e=="string"?(i=n(f.replace(/\{0\}/,"#").replace(/\{1\}/,e)),o._createNodeWidget(i),r=i.data(i.data("widgetName"))):e.jquery?(e.data("widgetName")||o._createNodeWidget(e),r=e.data(e.data("widgetName"))):e.nodeType?(i=n(e),o._createNodeWidget(i),r=i.data(i.data("widgetName"))):n.isPlainObject(e)&&(i=n(f.replace(/\{0\}/,e.url?e.url:"#").replace(/\{1\}/,e.text)),o._createNodeWidget(i,e),r=i.data(i.data("widgetName")));if(r===null)return;s=o._getField("nodes"),(!t||t>s.length)&&t!==0&&(t=s.length),n.mobile&&r.element.find("a").addClass("ui-link"),u=r._getField("nodes"),r._tree=o._tree;for(a=0;a<u.length;a++)u[a]._tree=o._tree;r._setField("owner",o),l=s.length,o.$nodes||(o.$nodes=n("<ul></ul>").addClass("wijmo-wijtree-list").addClass(o.options.wijCSS.helperReset).addClass("wijmo-wijtree-child"),o.element.append(o.$nodes)),l>0&&l!==t?r.element.get(0)!==s[t].element.get(0)&&r.element.insertBefore(s[t].element):o.$nodes.append(r.element),o._changeCollection(t,r),o._collectionChanged(),r._initNodeClass()},r.prototype.remove=function(e){var t=-1,n,r=this,i=this._getField("nodes");e.jquery?t=e.index():typeof e=="number"&&(t=e);if(t<0||t>=i.length)return;n=i[t],n.element.detach(),r._changeCollection(t),r._collectionChanged()},r.prototype.getNodes=function(){return this._getField("nodes")},r.prototype._changeCollection=function(e,t){var n=this._getField("nodes"),r=this.options.nodes;t?(n.splice(e,0,t),r.splice(e,0,t.options)):(n.splice(e,1),r.splice(e,1))},r.prototype.sortNodes=function(){var e=this._getField("nodes");this._sort(),n.each(e,function(e,t){t._index=e,t._insertBefore(e)}),this._refreshNodesClass()},r.prototype.check=function(e){this._setOption("checked",e)},r.prototype.select=function(e){this._setOption("selected",e)},r.prototype.getOwner=function(){var e=this._getOwner();return e&&e.element.is("li")?e:null},r.prototype.expand=function(){this._setOption("expanded",!0)},r.prototype.collapse=function(){this._setOption("expanded",!1)},r.prototype._insertBefore=function(e){var t=this.element.parent().children("li");this.element.index()!==e&&this.element.insertBefore(t.eq(e))},r.prototype._sort=function(){var e=this._getField("nodes");this._isSorted?this._isDecsSort?(e.sort(this._compare2NodeTextDesc),this._isDecsSort=!1):(e.sort(this._compare2NodeTextAcs),this._isDecsSort=!0):(e.sort(this._compare2NodeTextAcs),this._isSorted=!0,this._isDecsSort=!0)},r.prototype._compare2NodeTextAcs=function(e,t){if(e!==null&&t!==null)return e._text.localeCompare(t._text)},r.prototype._compare2NodeTextDesc=function(e,t){if(e!==null&&t!==null)return-1*e._text.localeCompare(t._text)},r.prototype._collectionChanged=function(){this._hasChildren=this._getChildren(),this._initNodeClass()},r.prototype._refreshNodesClass=function(){var e=this._getField("nodes"),t;for(t=0;t<e.length;t++)e[t]._initNodeClass()},r.prototype._setChecked=function(e){var t=this;if(t.options.checked===e&&t._checkState!=="indeterminate")return;t.options.checked=e,t.$nodeBody.attr("aria-checked",e),this._checkItem()},r.prototype._isClosestDisabled=function(){var e=this;return e.element.closest(".wijmo-wijtree-disabled,.wijmo-wijtreenode-disabled",e._tree.element).length?!0:!1},r.prototype._setExpanded=function(e){var t=this,n=t.options;if(t._expanded===e)return;(t._hasChildren||n.hasChildren)&&t._expandNode(e)},r.prototype._setFocused=function(e){e?(this.$navigateUrl.focus(),this._setFocusNode()):this.$navigateUrl.blur()},r.prototype._setFocusNode=function(){this._tree._focusNode&&n.browser.webkit&&this._tree._focusNode.$navigateUrl.blur(),this._focused=!0,this._tree._focusNode=this,this.$inner.addClass(this.options.wijCSS.stateFocus),this._tree._trigger("nodeFocus",null,this)},r.prototype._setToolTip=function(e){e.length?this.element.attr("title",e):this.element.removeAttr("title")},r.prototype._setText=function(e){this._text!==e&&e.length&&(this._text=e,this._changeText(e))},r.prototype._setSelected=function(e){var t=this,n=t.options;n.selected!==e&&(n.selected=e,t.$nodeBody.attr("aria-selected",e),t._selectNode(e),t._setFocused(e))},r.prototype._setCheckBoxes=function(e){var t=this;t.$checkBox?t.$checkBox[e?"show":"hide"]():e&&(t.$checkBox=n("<div>"),t.$checkBox.insertBefore(t.$navigateUrl),t.$checkBox.wijtreecheck()),t.$nodes&&t.$nodes.children("li").each(function(r,i){var s=t._getNodeWidget(n(i));s!==null&&s._setCheckBoxes(e)})},r.prototype._setHitArea=function(e){var t=this;t._hasChildren&&(e?(t._initNodeClass(),t.$hitArea&&t.$hitArea.show()):(t._expanded=!0,t.options.expanded=!0,t.$nodeBody.attr("aria-expanded",!0),t.$nodes&&t.$nodes.show(),t._initNodeClass(),t.$hitArea&&t.$hitArea.hide())),t.$nodes&&t.$nodes.children("li").each(function(r,i){var s=t._getNodeWidget(n(i));s!==null&&s._setHitArea(e)})},r.prototype._getOwner=function(){return this._getField("owner")},r.prototype._getTree=function(){var e=this._getOwner();return e?e.element.is(":"+this.options.treeClass)?e:e._getTree():null},r.prototype._getInitElement=function(){var e=n("<li>"),t=this,r=n("<ul>"),i=t._getField("nodes");return e.append(t.$navigateUrl.clone()),i.length&&(e.append(r),n.each(i,function(e,t){var n=t._getInitElement();r.append(n)})),e},r.prototype._getChildren=function(){return this.element.find(">ul:first>li").length>0&&this.element.children("ul:first")||!!this.options.nodes&&!!this.options.nodes.length},r.prototype._getNodeWidget=function(e){var t=this._getNodeByDom(e),n;return t.length>0?(n=t.data(t.data("widgetName")),n):null},r.prototype._createNodeWidget=function(e,t){return n.fn.wijtreenode&&(e.data("owner",this),!!t&&n.isPlainObject(t)?(n.extend(t,{treeClass:this.options.treeClass}),e.wijtreenode(t)):e.wijtreenode({treeClass:this.options.treeClass})),e},r.prototype._getNodeByDom=function(e){return n(e).closest(":"+this.widgetFullName)},r.prototype._getCurrentLevel=function(){return this.element.parentsUntil(":"+this.options.treeClass).length-1},r.prototype._getField=function(e){return this.element.data(e)},r.prototype._setField=function(e,t){return this.element.data(e,t)},r}(e.wijmoWidget);t.wijtreenode=s;var o="",u="",a=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._initCSS=function(e){var t=e.wijCSS;o=t.icon+" "+t.iconCheck,u=t.icon+" "+t.iconStop},t.prototype._create=function(){var e=this,t=this.options,r=t.wijCSS;e._initCSS(t),e.element.is("div")&&(e.element.addClass("wijmo-checkbox").addClass(r.widget).attr("role","checkbox"),e.$icon=n("<span>"),e.$icon.addClass("wijmo-checkbox-icon"),t.checkState==="check"?e.$icon.addClass(o):t.checkState==="triState"&&e.$icon.addClass(u),e.$body=n("<div></div>").addClass(["wijmo-checkbox-box",r.widget,r.cornerAll,r.stateDefault].join(" ")).css({position:"relative"}).append(e.$icon),e.element.append(e.$body),e.element.bind("mouseover.wijtreecheck",function(){e.options.disabled||e.$body.addClass(r.stateHover)}).bind("mouseout.wijtreecheck",function(){e.options.disabled||e.$body.removeClass(r.stateHover).not(r.stateFocus).addClass(r.stateDefault)}))},t.prototype._setOption=function(e,t){var r=this,i=r.options.wijCSS;e==="checkState"&&(t==="unCheck"?(r.$body.removeClass(i.stateActive),r.$icon.removeClass(o).removeClass(u).removeClass(i.stateActive)):t==="check"?(r.$body.addClass(i.stateActive),r.$icon.removeClass(u).addClass(o)):t==="triState"&&(r.$body.addClass(i.stateActive),r.$icon.removeClass(o).addClass(u))),n.Widget.prototype._setOption.apply(r,arguments)},t.prototype.destory=function(){this.element.children().remove(),this.element.removeClass("wijmo-checkbox").removeClass(this.options.wijCSS.widget),n.Widget.prototype.destroy.apply(this)},t}(e.wijmoWidget);t.wijtreecheck=a,a.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,{wijMobileCSS:{header:"ui-header ui-bar-a",content:"ui-body-c",stateHover:"ui-btn-down-b",stateActive:"ui-btn-down-b"},checkState:"unCheck"});var f=function(){function e(){this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-b"},this.treeClass="wijmo-wijtree",this.initSelector=":jqmData(role='wijtreenode')",this.accessKey="",this.checked=!1,this.collapsedIconClass="",this.expanded=!1,this.expandedIconClass="",this.itemIconClass="",this.navigateUrl="",this.selected=!1,this.text="",this.toolTip="",this.hasChildren=!1,this.params={},this.nodes=null}return e}(),l=function(){function e(){this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-b",stateActive:"ui-btn-down-c"},this.allowDrag=!1,this.allowDrop=!1,this.allowEdit=!1,this.allowSorting=!0,this.allowTriState=!0,this.autoCheckNodes=!0,this.autoCollapse=!1,this.disabled=!1,this.expandCollapseHoverUsed=!1,this.showCheckBoxes=!1,this.showExpandCollapse=!0,this.expandAnimation={effect:"blind",easing:"linear",duration:200},this.expandDelay=0,this.collapseAnimation={effect:"blind",easing:"linear",duration:200},this.collapseDelay=0,this.draggable=null,this.droppable=null,this.dropVisual=null,this.nodes=null,this.nodeBlur=null,this.nodeFocus=null,this.nodeClick=null,this.nodeCheckChanged=null,this.nodeCollapsed=null,this.nodeExpanded=null,this.nodeDragging=null,this.nodeDragStarted=null,this.nodeBeforeDropped=null,this.nodeDropped=null,this.nodeMouseOver=null,this.nodeMouseOut=null,this.nodeTextChanged=null,this.selectedNodeChanged=null,this.nodeExpanding=null,this.nodeCollapsing=null}return e}();s.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new f),i.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new l),n.wijmo.registerWidget("wijtree",i.prototype),n.wijmo.registerWidget("wijtreenode",s.prototype),n.wijmo.registerWidget("wijtreecheck",a.prototype)})(e.tree||(e.tree={}));var t=e.tree})(wijmo||(wijmo={}));