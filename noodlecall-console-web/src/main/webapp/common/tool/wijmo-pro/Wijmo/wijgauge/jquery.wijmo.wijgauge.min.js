var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){var n=jQuery;(function(e){e._map=[],e._map[0]="east",e.east=0,e._map[1]="west",e.west=1,e._map[2]="south",e.south=2,e._map[3]="north",e.north=3})(t.Compass||(t.Compass={}));var r=t.Compass,i=function(){function e(){}return e.mod360=function(t){var n=t%360;return t<0&&(n+=360),n},e.getAngle=function(t,n,r){var i=this,s=i.distance(n,r),o=i.distance(n,t),u=i.distance(r,t),a=s*s,f=o*o,l=u*u,c=Math.acos((l-f-a)/(-2*o*s));return Math.round(180/Math.PI*c)},e.distance=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},e.log=function(t,n){return t<=0?NaN:n===1||n<0?NaN:Math.log(t)/Math.log(n)},e.generateValues=function(t,n,r){var i=[],s,o;if(n>t&&r>0){s=parseInt(((n-t)/r+1).toString(),10);for(o=0;o<s;o++)i.push(t+o*r)}else r===0&&i.push(t);return i},e.isInRange=function(t,n,r){return t>=n&&t<=r||t<=n&&t>=r},e.paintMarker=function(t,n,r,i,s,o,u){var a;return n==="rect"?t.rect(r-s/2,i-o/2,s,o):(u?n==="tri"?a=t.isoTri(r,i,s,o):a=t.paintMarker(n,r,i,o):a=t.paintMarker(n,r,i,s),a)},e.formatString=function(t,r){if(n.isFunction(r))return r.call(this,t);if(r!==""){var i=/\{0(?::((?:n|d|p|c)\d?))?\}/gi,s,o;if(i.test(r))return s=r.match(i),o="$1",r.replace(/\{0(?::(?:(?:n|d|p|c)\d?))?\}/gi,Globalize.format(t,o))}return t},e.getPositionByAngle=function(t,n,r,i){var s={x:0,y:0},o=Raphael.rad(i);return s.x=t-r*Math.cos(o),s.y=n-r*Math.sin(o),s},e.donut=function(t,n,r,i,s,o,u){var a=this.getPositionByAngle,f=a(n,r,i,o),l=a(n,r,i,u),c=a(n,r,s,o),h=a(n,r,s,u),p=u-o>180,d;(u-o)%360!==0?(d=["M",f.x,f.y,"A",i,i,0,+p,1,l.x,l.y,"L",h.x,h.y,"A",s,s,0,+p,1,c.x,c.y,"L",f.x,f.y,"z"],t.path(d)):t.circle(n,r,i)},e}();t.GaugeUtil=i,Raphael.fn.isoTri=function(e,t,n,i,s){var o=e,u=t+i/2,a=e+n,f=t,l=e+n,c=t+i,h;return s==r.north?(o=e,u=t,a=e-n/2,f=t+i,l=e+n/2,c=t+i):s===r.east?(o=e-n/2,u=t-i/2,a=e-n/2,f=t+i/2,l=e+n/2,c=t):s===r.west&&(o=e-n/2,u=t,a=e+n/2,f=t-i/2,l=e+n/2,c=t+i/2),h=["M",o,u,"L",a,f,"L",l,c,"z"],this.path(h.join(" "))};var s=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){var e=this,t=e.options,r;window.wijmoApplyWijTouchUtilEvents&&(n=window.wijmoApplyWijTouchUtilEvents(n)),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.redraw(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijgauge"),isNaN(t.width)&&e._setDefaultWidth(),isNaN(t.height)&&e._setDefaultHeight(),e._setDefaultWidthHeight(),t.disabled&&e.disable(),t.face&&t.face.template&&typeof t.face.template=="string"&&window[t.face.template]&&(t.face.template=window[t.face.template]),t.pointer&&t.pointer.template&&typeof t.pointer.template=="string"&&window[t.pointer.template]&&(t.pointer.template=window[t.pointer.template]),t.cap&&t.cap.template&&typeof t.cap.template=="string"&&window[t.cap.template]&&(t.cap.template=window[t.cap.template]),e.element.addClass(t.wijCSS.widget).toggleClass(t.wijCSS.stateDisabled,t.disabled);try{e.canvas=Raphael(e.element[0],t.width,t.height)}catch(i){var s=e.element.css("display");r=n("<div></div>").insertBefore(e.element).append(e.element),e.element.addClass("ui-helper-hidden-accessible").appendTo(n("body")),s==="none"&&e.element.css("display","block"),e.canvas=Raphael(e.element[0],t.width,t.height),e.element.appendTo(r).unwrap().removeClass("ui-helper-hidden-accessible"),s==="none"&&e.element.css("display","none")}e._autoCalculate(),e._draw()},t.prototype._setDefaultWidth=function(){},t.prototype._setDefaultHeight=function(){},t.prototype._setDefaultWidthHeight=function(){var e=this,t=e.element,n=e.options,r=t.get(0).style,i=r.width,s=r.height;i!==""&&(n.width=t.width()),s!==""&&(n.height=t.height())},t.prototype._autoCalculate=function(){},t.prototype._setOption=function(t,r){var i=this,s=i.options,o=s[t];if(t==="disabled")i._handleDisabledOption(r,i.element),e.prototype._setOption.call(this,t,r);else if(t==="value")i._trigger("beforeValueChanged",null,{newValue:r,oldValue:o})&&(e.prototype._setOption.call(this,t,r),i._set_value(r,o)),i._trigger("valueChanged",null,{newValue:r,oldValue:o});else{e.prototype._setOption.call(this,t,r),n.isPlainObject(r)&&(s[t]=n.extend({},o,r));if(s.radius==="auto"){i._autoCalculate(),i.redraw();return}i["_set_"+t]&&i["_set_"+t](r,o)}},t.prototype._set_value=function(e,t){this._setPointer()},t.prototype._set_max=function(){this._redrawMarksAndLabels(),this._set_ranges(),this._setPointer()},t.prototype._set_min=function(){this._redrawMarksAndLabels(),this._set_ranges(),this._setPointer()},t.prototype._set_width=function(){this.redraw()},t.prototype._set_height=function(){this.redraw()},t.prototype._set_isInverted=function(){this.redraw()},t.prototype._set_tickMajor=function(){this._redrawMarksAndLabels()},t.prototype._set_tickMinor=function(){this._redrawMarksAndLabels()},t.prototype._set_pointer=function(){var e=this;e.pointer&&(e.pointer.wijRemove(),e.pointer=null),e._paintPointer(),e._setPointer()},t.prototype._set_islogarithmic=function(){var e=this;e._redrawMarksAndLabels(),e._setPointer()},t.prototype._set_logarithmicBase=function(){var e=this;e._redrawMarksAndLabels(),e._setPointer()},t.prototype._set_labels=function(){this._redrawMarksAndLabels()},t.prototype._set_margin=function(e,t){e!==t&&this.redraw()},t.prototype._set_marginTop=function(e,t){this._set_margin(e,t)},t.prototype._set_marginBottom=function(e,t){this._set_margin(e,t)},t.prototype._set_marginLeft=function(e,t){this._set_margin(e,t)},t.prototype._set_marginRight=function(e,t){this._set_margin(e,t)},t.prototype._set_ranges=function(){var e=this;e._removeRanges(),e._paintRanges(),e._resetElementPosition()},t.prototype._set_face=function(){var e=this;e.face&&(e.face.wijRemove(),e.face=null,e._paintFace(),e._resetElementPosition(!0))},t.prototype._clearState=function(){var e=this;e.labels=[],e.majorMarks=[],e.minorMarks=[],e.face=null,e.pointer=null},t.prototype._resetElementPosition=function(e){var t=this;e&&t.ranges&&n.each(t.ranges,function(e,t){t.toFront()}),t.majorMarks&&n.each(t.majorMarks,function(e,t){t.toFront()}),t.minorMarks&&n.each(t.minorMarks,function(e,t){t.toFront()}),t.labels&&n.each(t.labels,function(e,t){t.toFront()}),t.pointer&&t.pointer.toFront(),t.cap&&t.cap.toFront()},t.prototype._redrawMarksAndLabels=function(){var e=this;e._removeMarksAndLabels(),e._drawMarksAndLabels()},t.prototype._removeMarksAndLabels=function(){var e=this;n.each(e.labels,function(t,n){n.wijRemove(),e.labels[t]=null}),n.each(e.majorMarks,function(t,n){n.wijRemove(),e.majorMarks[t]=null}),n.each(e.minorMarks,function(t,n){n.wijRemove(),e.minorMarks[t]=null})},t.prototype._drawMarksAndLabels=function(){var e=this;e.labels=[],e.majorMarks=[],e.minorMarks=[],e._paintMarks()},t.prototype._handleDisabledOption=function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},t.prototype._createDisabledDiv=function(e){var t=this,r=t.options,i=e||t.element,s=i.offset(),o=r.width||i.outerWidth(),u=r.height||i.outerHeight(),a;return a=n("<div></div>").css({"z-index":"99999",position:"absolute",width:o,height:u,left:s.left,top:s.top}),Raphael.vml&&a.addClass(r.stateDisabled).css("background-color","#fff"),a},t.prototype._triggerPainted=function(){return this._trigger("painted")},t.prototype._draw=function(){var e=this,t=e.options;e.pointer=null,e._innerBbox={width:t.width-t.marginLeft-t.marginRight,height:t.height-t.marginTop-t.marginBottom,left:t.marginLeft,top:t.marginTop},e.face=e._paintFace(),e.ranges&&e._removeRanges(),e._paintRanges(),e._drawMarksAndLabels(),e._paintPointer(),e.pointer&&(e._setOffPointerValue(),e._setPointer()),n.wijraphael.clearRaphaelCache(),e._triggerPainted()},t.prototype.redraw=function(){var e=this,t=e.options;e.element.empty(),this._clearState(),e.canvas=Raphael(e.element[0],t.width,t.height),e._draw()},t.prototype.destroy=function(){var t=this;t._unbindEvents(t.majorMarks),t._unbindEvents(t.minorMarks),t._unbindEvents(t.labels),t.element.removeClass("ui-widget").empty(),t.disabledDiv&&(t.disabledDiv.remove(),t.disabledDiv=null),e.prototype.destroy.call(this)},t.prototype.getCanvas=function(){return this.canvas},t.prototype._percentage=function(){var e=this,t=e.options,n=t.max,r=t.min,i=t.value;return isNaN(i)?0:n===r?1:(i-r)/(n-r)},t.prototype._valueToLogical=function(e){var t=this,n=t.options,r=n.min,s=n.max,o=n.logarithmicBase,u,a;return e<r?0:s<e?1:(u=(e-r)/(s-r),n.islogarithmic?a=i.log(1+(o-1)*u,n.logarithmicBase):a=u,a)},t.prototype._logicalToValue=function(e){var t=this,n=t.options,r=n.max,i=n.min,s;if(e<0)return i;if(1<=e)return r;if(!n.islogarithmic)s=e;else{if(n.logarithmicBase<=1)return n.min;s=(Math.pow(n.logarithmicBase,e)-1)/(n.logarithmicBase-1)}return i+(r-i)*s},t.prototype._bindClickEvents=function(e){var t=this;n.each(e,function(e,r){n(r.node).bind("click."+t.widgetName,function(e){t._trigger("click",e,{ele:r})})})},t.prototype._unbindEvents=function(e){var t=this;n.each(e,function(e,r){n(r.node).unbind("."+t.widgetName)})},t.prototype._setOffPointerValue=function(){},t.prototype._setPointer=function(){},t.prototype._paintPointer=function(){},t.prototype._paintFace=function(){},t.prototype._paintRanges=function(){var e=this,t=e.options,r=t.ranges||[];e.ranges=[],n.each(r,function(t,n){e._paintRange(n)})},t.prototype._paintRange=function(e){},t.prototype._removeRanges=function(){var e=this;n.each(e.ranges,function(t,n){n.wijRemove(),e.ranges[t]=null})},t.prototype._paintMarks=function(){var e=this,t=e.options,r=i.generateValues,s=r(t.min,t.max,t.tickMajor.interval),o=r(t.min,t.max,t.tickMinor.interval),u=t.labels,a=u.visible;t.tickMajor.visible&&n.each(s,function(n,r){e.majorMarks.push(e._paintMark(r,t.tickMajor,!0)),a&&e.labels.push(e._paintLabel(r,u))}),t.tickMinor.visible&&n.each(o,function(r,i){var o=!1;n.each(s,function(e,t){if(i===t)return o=!0,!1}),o||e.minorMarks.push(e._paintMark(i,t.tickMinor,!1))}),e._bindClickEvents(e.majorMarks),e._bindClickEvents(e.minorMarks),e._bindClickEvents(e.labels)},t.prototype._paintMark=function(e,t,n){},t.prototype._paintLabel=function(e,t){},t}(e.wijmoWidget);t.wijgauge=s;var o=function(){function e(){this.value=0,this.max=100,this.min=0,this.width=600,this.height=400,this.tickMajor={position:"inside",style:{fill:"#1E395B",stroke:"none"},factor:2,visible:!0,marker:"rect",offset:0,interval:10},this.tickMinor={position:"inside",style:{fill:"#1E395B",stroke:"none"},factor:1,visible:!1,marker:"rect",offset:0,interval:5},this.pointer={length:1,style:{fill:"#1E395B",stroke:"#1E395B"},width:8,offset:0,shape:"tri",visible:!0,template:null},this.islogarithmic=!1,this.logarithmicBase=10,this.labels={format:"",style:{fill:"#1E395B","font-size":12,"font-weight":"800"},visible:!0,offset:0},this.animation={enabled:!0,duration:2e3,easing:">"},this.face={style:{fill:"270-#FFFFFF-#D9E3F0",stroke:"#7BA0CC","stroke-width":4},template:null},this.marginTop=0,this.marginRight=0,this.marginBottom=0,this.marginLeft=0,this.ranges=[],this.isInverted=!1,this.beforeValueChanged=null,this.valueChanged=null,this.painted=null}return e}();s.prototype.options=n.extend({},e.wijmoWidget.prototype.options,new o)})(e.gauge||(e.gauge={}));var t=e.gauge})(wijmo||(wijmo={}));