var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){var t=this;t._handleChartStyles(),e.prototype._create.call(this),t.chartElement.addClass(t.options.wijCSS.scatter)},t.prototype.destroy=function(){var t=this;t.chartElement.removeClass(t.options.wijCSS.scatter),e.prototype.destroy.call(this)},t.prototype.getScatter=function(e,t){var n=this,r=n.chartElement.data("fields"),i,s,o,u;if(r&&r.chartElements){o=r.chartElements.scatters;if(o&&o.length){s=o.length;if(e<0||e>=s)return i;u=o[e];if(typeof t=="undefined")return u;s=u.length;if(u&&s)return t<0||t>=s?i:u[t]}return i}},t.prototype._paintLegendIcon=function(e,t,n,r,i,s,o,u,a,f){var l=this,c=Math.min(n,r),h,p=a.markerType,d;return h=a.markerStyle,h=$.extend({fill:i.stroke,stroke:i.stroke,opacity:1},h),p||(p="circle"),d=l.canvas.paintMarker(p,e+n/2,t+r/2,3),$(d.node).data("legendIndex",s).data("index",o),l.legendIcons.push(d),d.attr(h),$.wijraphael.addClass($(d.node),u),a.visible===!1&&($(f.node).data("dotOpacity",d.attr("opacity")||1),d.attr("opacity",.3)),d},t.prototype._paintLegend=function(){var t=this,n=t.options,r=[].concat(n.seriesList),i=n.seriesStyles,s=0;$.extend(!0,n,{legend:{size:{width:20,height:10}}}),e.prototype._paintLegend.call(this)},t.prototype._showSerieEles=function(e){$.each(e,function(e,t){t.show(),t.label&&t.label.show(),$(t.element).data("wijchartDataObj")&&($(t.element).data("wijchartDataObj").visible=!0)})},t.prototype._hideSerieEles=function(e){$.each(e,function(e,t){t.hide(),t.label&&t.label.hide(),$(t.element).data("wijchartDataObj")&&($(t.element).data("wijchartDataObj").visible=!1)})},t.prototype._indicatorLineShowing=function(t){e.prototype._indicatorLineShowing.call(this,t),$.each(t,function(e,t){t.dot&&(t.dot.attr(t.hoverStyle),t.dot.scale(1.5,1.5))})},t.prototype._removeIndicatorStyles=function(e){$.each(e,function(e,t){t.dot&&(t.dot.attr(t.style),t.dot.scale(1,1))})},t.prototype._paintTooltip=function(){var t=this,n=t.chartElement,r=n.data("fields");e.prototype._paintTooltip.call(this),t.tooltip&&r&&r.chartElements&&r.chartElements.tooltipTars&&(t.tooltip.setTargets(r.chartElements.tooltipTars),t.tooltip.setOptions({mouseTrailing:!1}))},t.prototype._getTooltipText=function(e,t){var n=$(t).data("wijchartDataObj"),r={data:n,label:n.label,x:n.x,y:n.y,type:n.markerType,target:t,fmt:e};return $.proxy(e,r)()},t.prototype._onBeforeTooltipShowing=function(t){var n=this,r=t.options,i=n.options.hint.style,s=t.target,o,u;s&&($.browser.msie&&parseInt($.browser.version)<9?(o=$(s).data().wijchartDataObj,u=o.style,r.style.stroke=i.stroke||u.stroke||u.fill||"#ffffff"):r.style.stroke=i.stroke||s.getAttribute("stroke")||s.getAttribute("fill")||"#ffffff",s.attrs={stroke:r.style.stroke}),e.prototype._onBeforeTooltipShowing.call(this,t)},t.prototype._clearChartElement=function(){var e=this,t=e.chartElement.data("fields");e.headerEles.length&&($.each(e.headerEles,function(e,t){t.wijRemove(),t=null}),e.headerEles=[]),e.footerEles.length&&($.each(e.footerEles,function(e,t){t.wijRemove(),t=null}),e.footerEles=[]),e.legendEles.length&&($.each(e.legendEles,function(e,t){t.wijRemove(),t=null}),e.legendEles=[]),e.legends.length&&($.each(e.legends,function(e,t){t.wijRemove(),t=null}),e.legends=[]),e.legendIcons.length&&($.each(e.legendIcons,function(e,t){t.wijRemove(),t=null}),e.legendIcons=[]),e.legendDots.length&&($.each(e.legendDots,function(e,t){t=null}),e.legendDots=[]),e.axisEles.length&&($.each(e.axisEles,function(e,t){t.wijRemove(),t=null}),e.axisEles=[]),e.chartLabelEles.length&&($.each(e.chartLabelEles,function(e,t){t.wijRemove(),t=null}),e.chartLabelEles=[]),t&&t.chartElements&&($.each(t.chartElements,function(e,n){n.length&&$.each(n,function(e,t){t[0]!==null&&(t.remove&&t.remove(),n[e]=null)}),t.chartElements[e]=null}),t.chartElements={},$(t.clipRect.element).stop().remove(),t.render.destroy(),t.clipRect.destroy()),e.dataPoints=null,e.pointXs=null,e.canvas.clear(),e.innerState={}},t.prototype._paintPlotArea=function(){var e=this,t=e.options,n;n=new r(this.chartElement,{bounds:e.canvasBounds,widgetName:e.widgetName,canvas:e.canvas,tooltip:e.tooltip,axis:t.axis,animation:t.animation,seriesTransition:t.seriesTransition,seriesList:t.seriesList,seriesStyles:t.seriesStyles,seriesHoverStyles:t.seriesHoverStyles,hint:t.hint,disabled:t.disabled,isXTime:e.axisInfo.x.isTime,isYTime:e.axisInfo.y[0].isTime,zoomOnHover:t.zoomOnHover,mouseDown:$.proxy(e._mouseDown,e),mouseUp:$.proxy(e._mouseUp,e),mouseOver:$.proxy(e._mouseOver,e),mouseOut:$.proxy(e._mouseOut,e),mouseMove:$.proxy(e._mouseMove,e),click:$.proxy(e._click,e),showChartLabels:t.showChartLabels,chartLabelStyle:t.chartLabelStyle,chartLabelFormatString:t.chartLabelFormatString,culture:e._getCulture(),wijCSS:t.wijCSS,widget:this}),n.render()},t}(e.wijchartcore);e.wijscatterchart=t,t.prototype.widgetEventPrefix="wijscatterchart";var n=function(){function e(){this.initSelector=":jqmData(role='wijscatterchart')",this.wijCSS={scatter:"wijmo-wijscatterchart",scatterElement:"wijscatterchart"},this.animation={enabled:!0,duration:2e3,easing:">"},this.showChartLabels=!1,this.seriesTransition={enabled:!0,duration:2e3,easing:">"},this.zoomOnHover=!0,this.mouseDown=null,this.mouseUp=null,this.mouseOver=null,this.mouseOut=null,this.mouseMove=null,this.click=null}return e}();t.prototype.options=$.extend(!0,{},e.wijchartcore.prototype.options,new n),$.wijmo.registerWidget("wijscatterchart",t.prototype);var r=function(){function t(e,t){this.scatters=[],this.chartLabels=[],this.tooltipTars=[],this.seriesEles=[],this.element=e,this.options=t,this._init()}return t.prototype._init=function(){var t=this.element,n=this.options,r=n.bounds,i=n.axis.x.min,s=n.axis.y.min,o=n.axis.x.max,u=n.axis.y.max;this.width=r.endX-r.startX,this.height=r.endY-r.startY,this.plotInfo={minX:i,minY:s,maxX:o,maxY:u,width:this.width,height:this.height,kx:this.width/(o-i),ky:this.height/(u-s)},this.fields=t.data("fields")||{},t.find("svg").length>0?this.chartRender=e.render.createRender(t.find("svg").get(0),t.width(),t.height()):this.chartRender=e.render.createRender(t.children(":first").addClass("vmlcontainer").get(0),t.width(),t.height()),this.clipRect=this.chartRender.clipRect(0,0,0,t.height()),this.g=this.chartRender.g(),this.g.clip(this.clipRect),this.g.add(),this.fields.render=this.chartRender,this.fields.clipRect=this.clipRect},t.prototype.bindLiveEvents=function(){var e=$.isFunction,t=this.options,n=t.wijCSS,r=this.element,i=t.widgetName,s=t.mouseDown,o=t.mouseUp,u=t.mouseOver,a=t.mouseOut,f=t.mouseMove,l=t.click,c=t.zoomOnHover,h=t.seriesHoverStyles,p=t.seriesStyles,d=t.disabled;$("."+n.scatterElement,r[0]).on("mousedown."+i,function(t){if(d)return;if(e(s)){var n=$(t.target).data("wijchartDataObj");n||(n=$(t.target.parentNode).data("wijchartDataObj")),s.call(r,t,n)}}).on("mouseup."+i,function(t){if(d)return;if(e(o)){var n=$(t.target).data("wijchartDataObj");n||(n=$(t.target.parentNode).data("wijchartDataObj")),o.call(r,t,n)}}).on("mouseover."+i,function(t){if(d)return;var n=$(t.target).data("wijchartDataObj"),i,s,o;n||(n=$(t.target.parentNode).data("wijchartDataObj")),o=n.dot,c&&(i=n.seriesIndex,o.attr&&(s=$.extend(!0,{},h[i]),o.attr(s)),document.createElementNS?o.scale(1.5,1.5):o.attr("stroke-width",5)),e(u)&&u.call(r,t,n)}).on("mouseout."+i,function(t){if(d)return;var n=$(t.target).data("wijchartDataObj"),i,s;n||(n=$(t.target.parentNode).data("wijchartDataObj")),s=n.dot,c&&(i=n.seriesIndex,s.attr&&s.attr($.extend(!0,{},p[i]))),document.createElementNS&&s.scale(1,1),e(a)&&a.call(r,t,n)}).on("mousemove."+i,function(t){if(d)return;if(e(f)){var n=$(t.target).data("wijchartDataObj");n||(n=$(t.target.parentNode).data("wijchartDataObj")),f.call(r,t,n)}}).on("click."+i,function(t){if(d)return;if(e(l)){var n=$(t.target).data("wijchartDataObj");n||(n=$(t.target.parentNode).data("wijchartDataObj")),l.call(r,t,n)}})},t.prototype.unbindLiveEvents=function(){var e=this.options,t=e.widgetName,n=e.wijCSS;$("."+n.scatterElement,this.element).off(t).off("."+t)},t.prototype.paintDefaultChartLabel=function(e,t,n){var r=this.options,i=$.extend(!0,{},r.textStyle,r.chartLabelStyle),s,o=r.chartLabelFormatString,u;return r.isYTime?s=Globalize.format(n,"f",r.culture):s=$.round(n,2),o&&o.length&&(s=Globalize.format(s,o,r.culture)),u=this.chartRender.text(e,t,s),u},t.prototype.paintScatters=function(){var e=this,t=e.options,n=t.seriesList,r=t.seriesStyles,i=t.seriesHoverStyles,s=t.isXTime,o=t.isYTime,u=t.bounds,a=this.plotInfo,f=t.wijCSS,l=t.showChartLabels,c=t.chartLabelStyle,h=t.widget;$.each(n,function(t,n){var p=n.data,d,v=n.markerWidth||5,m=r[t],g=i[t],y=p.x,b=p.y,w=[],E=[],S;n=$.extend(!0,{visible:!0,markerType:"circle"},n),d=n.markerType;if(n.display==="exclude")return!0;!m.fill&&m.stroke&&(m.fill=m.stroke);if(y===undefined)return!0;$.each(b,function(r,i){var p=y[r],x=0,T=0,N,C,k,L={};s&&(p=$.toOADate(p)),o&&(i=$.toOADate(i));if(typeof p=="undefined")return!1;isNaN(p)||typeof p=="string"?N=r:N=p,x=u.startX+(N-a.minX)*a.kx,T=u.endY-(i-a.minY)*a.ky,m.opacity&&(m["fill-opacity"]=m.opacity,m["stroke-opacity"]=m.opacity,delete m.opacity),d==="cross"&&m["stroke-width"]!==undefined&&m["stroke-width"]===0&&(m["stroke-width"]=1),C=e.chartRender.symbol(d,x,T,v),C.attr(m),C.add(e.g),C.attr({"class":f.canvasObject+" "+f.scatterElement}),L=$.extend(!1,{dot:C,x:y[r],y:b[r],seriesIndex:t,index:r,markerType:d,type:"scatter",style:m,hoverStyle:g,visible:!0},n),l&&(k=e.paintDefaultChartLabel(x,T-6,b[r]),k.add(e.g),c=$.extend({"font-size":"10px",fill:"#888","font-family":"Arial"},c),k.attr(c),C.label=k,e.chartLabels.push(k)),h.dataPoints=h.dataPoints||{},h.pointXs=h.pointXs||[],S=$.round(x,2),h.dataPoints[S.toString()]||(h.dataPoints[S.toString()]=[],h.pointXs.push(S)),h.dataPoints[S.toString()].push(L),$(C.element).data("wijchartDataObj",L),w.push(C),e.tooltipTars.push($.extend({},C,{node:C.element})),E.push(C),n.visible===!1&&C.hide()}),e.scatters.push(w),e.seriesEles.push(E)})},t.prototype.playAnimation=function(){var e=this,t=e.options,n=t.animation,r=e.element,i=r.css("background-color");n.enabled?(i==="transparent"&&(i="white"),e.clipRect.getCSS?$(e.clipRect.members[0].element).animate({width:r.width()},{duration:n.duration,step:function(t){e.clipRect.width=t;var n=e.clipRect.getCSS();$(this).css(n)}}):$(e.clipRect.element).animate({width:r.width()},{duration:n.duration,step:function(t){e.clipRect.attr("width",t)}})):e.clipRect.getCSS?($(e.clipRect.members[0].element).css({width:r.width()}),e.clipRect.width=r.width(),$(e.clipRect.members[0].element).css(e.clipRect.getCSS())):($(e.clipRect.element).css({width:r.width()}),e.clipRect.attr("width",r.width()))},t.prototype.render=function(){this.paintScatters(),this.playAnimation(),this.unbindLiveEvents(),this.bindLiveEvents(),this.chartEles={animationSet:this.animationSet,tooltipTars:this.tooltipTars,scatters:this.scatters,labels:this.chartLabels},this.fields.chartElements||(this.fields.chartElements={}),this.fields.seriesEles=this.seriesEles,$.extend(!0,this.fields.chartElements,this.chartEles),this.element.data("fields",this.fields)},t}();e.ScatterChartRender=r})(e.chart||(e.chart={}));var t=e.chart})(wijmo||(wijmo={}));var wijmo;(function(e){(function(e){(function(e){function w(e){return typeof e=="string"}function E(e){return typeof e=="number"}function S(e){return e!==undefined&&e!==null}function x(e,t,n){var r="setAttribute",i;return w(t)?S(n)?e[r](t,n):e&&e.getAttribute&&(i=e.getAttribute(t)):S(t)&&$.isPlainObject(t)&&$.each(t,function(t,n){e[r](t,n)}),i}function T(e,t){r&&t&&t.opacity!==undefined&&(t.filter="alpha(opacity="+t.opacity*100+")"),$.extend(e.style,t)}function N(e,n,r){var i=t.createElement(e);return n&&$.extend(i,n),r&&T(i,r),i}function C(e){$.each(e,function(t,n){e[t]&&e[t].destroy&&e[t].destroy(),delete e[t]})}function D(e,t,n){return o?new O(e,t,n):new _(e,t,n)}var t=document,n=$.each,r=$.browser.msie,i=t.documentMode===8,s="http://www.w3.org/2000/svg",o=!!t.createElementNS&&!!t.createElementNS(s,"svg").createSVGRect,u=0,a="div",f="absolute",l="hidden",c="scatterchart-",h="visible",p="visibility",d="px",v="none",m="M",g="L",y=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,b=/^(\d{1,3})\-(?:((?:[a-zA-Z]+)|(?:\#[0-9a-fA-F]{6})|(?:\#[0-9a-fA-F]{3}))\-)(?:(?:((?:(?:[a-zA-Z]+)|(?:\#[0-9a-fA-F]{6})|(?:\#[0-9a-fA-F]{3}))(?:\:\d{1,3})?)\-)?)*((?:[a-zA-Z]+)|(?:\#[0-9a-fA-F]{6})|(?:\#[0-9a-fA-F]{3}))$/,k=function(){function e(){}return e.prototype.attr=function(e,t){},e.prototype.scale=function(e,t){},e.prototype.symbolAttr=function(e){},e.prototype.clip=function(e){},e.prototype.crisp=function(e,t,n,r,i){},e.prototype.css=function(e){},e.prototype.getBBox=function(){},e.prototype.show=function(){},e.prototype.hide=function(){},e.prototype.add=function(e){},e.prototype.destroy=function(){},e.prototype.empty=function(){},e.prototype.remove=function(){},e}();e.ChartElement=k;var L=function(){function e(e,t,n){}return e.prototype.destroy=function(){},e.prototype.createElement=function(e){},e.prototype.path=function(e){return this._element},e.prototype.circle=function(e,t,n){return this._element},e.prototype.rect=function(e,t,n,r,i,s){return this._element},e.prototype.setSize=function(e,t){},e.prototype.g=function(e){return this._element},e.prototype.text=function(e,t,n){return this._element},e.prototype.symbol=function(e,t,n,r,i){return this._element},e.prototype.clipRect=function(e,t,n,r){return this._element},e}();e.ChartRender=L;var A=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),i.prototype.init=function(e,n){this.element=t.createElementNS(s,n),this.renderer=e},i.prototype.attr=function(e,t){var n,r,i=this.element,s=this.renderer,o=i.nodeName,u,a=this;if(e===undefined)return;return w(e)&&S(t)&&(n=e,e={},e[n]=t),w(e)?(n=e,o==="circle"&&(n={x:"cx",y:"cy"}[n]||n),a=x(i,n)||this[n]||0,n!=="d"&&n!==p&&(a=parseFloat(a))):e&&$.each(e,function(t,n){u=!1,r=e[t],t==="d"?(r&&r.join&&(r=r.join(" ")),/(NaN| {2}|^$)/.test(r)&&(r="M 0 0"),this.d=r):t==="fill"?r=s._color(r,i,t):o==="circle"&&(t==="x"||t==="y")&&(t={x:"cx",y:"cy"}[t]||t),jQuery.browser.safari&&t==="stroke-width"&&r===0&&(r=1e-6),u||x(i,t,r),i.attrs=i.attrs||{},i.attrs[t]=r}),a},i.prototype.scale=function(e,t){var n=this,r=n.getBBox(),i=-(r.x+r.width/2)/2,s=-(r.y+r.height/2)/2;e===1&&(i=0),t===1&&(s=0),n.attr("transform","matrix("+e+",0,0, "+t+","+i+","+s+")")},i.prototype.symbolAttr=function(e){var t=this;n(["x","y","r","start","end","width","height","innerR"],function(n,r){e[r]?t[r]=e[r]:t[r]=t[r]}),t.attr({d:t.renderer.symbols[t.symbolName](Math.round(t.x*2)/2,Math.round(t.y*2)/2,t.r,{start:t.start,end:t.end,width:t.width,height:t.height,innerR:t.innerR})})},i.prototype.clip=function(e){return this.attr("clip-path","url("+this.renderer.url+"#"+e.id+")")},i.prototype.crisp=function(e,t,n,r,i){var s=this,o,u={},a={},f;e=e||s.strokeWidth||0,f=e%2/2,a.x=Math.floor(t||s.x||0)+f,a.y=Math.floor(n||s.y||0)+f,a.width=Math.floor((r||s.width||0)-2*f),a.height=Math.floor((i||s.height||0)-2*f),a.strokeWidth=e;for(o in a)s[o]!==a[o]&&(s[o]=u[o]=a[o]);return u},i.prototype.css=function(e){var t=this,n=t.element,i=e&&e.width&&n.nodeName==="text",s="",u=function(e,t){return"-"+t.toLowerCase()};return e&&e.color&&(e.fill=e.color),e=$.extend(t.styles,e),t.styles=e,r&&!o?(i&&delete e.width,T(t.element,e)):($.each(e,function(t,n){s+=n.replace(/([A-Z])/g,u)+":"+e[n]+";"}),t.attr({style:s})),t},i.prototype.getBBox=function(){var e,t,n,r=this.rotation,i=r*Math.PI*2/360;try{e=$.extend({},this.element.getBBox())}catch(s){e={width:0,height:0}}return t=e.width,n=e.height,r&&(e.width=Math.abs(n*Math.sin(i))+Math.abs(t*Math.cos(i)),e.height=Math.abs(n*Math.cos(i))+Math.abs(t*Math.sin(i))),e},i.prototype.show=function(){return this.attr({visibility:h})},i.prototype.hide=function(){return this.attr({visibility:l})},i.prototype.add=function(e){var t=this,n=t.renderer,r=e||n,i=r.element||n.box,s=i.childNodes,o=t.element,u=x(o,"zIndex"),a,f,l;e&&t.htmlNode&&(e.htmlNode||(e.htmlNode=[]),e.htmlNode.push(t)),u&&(r.handleZ=!0,u=parseInt(u,10));if(r.handleZ)for(l=0;l<s.length;l++){a=s[l],f=x(a,"zIndex");if(a!==o&&(parseInt(f,10)>u||!S(u)&&S(f)))return i.insertBefore(o,a),t}return i.appendChild(o),t.added=!0,t},i.prototype._safeRemoveChild=function(e){var t=e.parentNode;t&&t.removeChild(e)},i.prototype.destroy=function(){var e=this,t=e.element||{},r=e.shadows,i=e.box,s;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=null,e.clipPath&&(e.clipPath=e.clipPath.destroy());if(e.stops){for(s=0;s<e.stops.length;s++)e.stops[s]=e.stops[s].destroy();e.stops=null}return e._safeRemoveChild(t),r&&n(r,function(t){e._safeRemoveChild(t)}),i&&i.destroy(),$.each(e,function(t,n){delete e[t]}),null},i.prototype.empty=function(){var e=this.element,t=e.childNodes,n=t.length;while(n--)e.removeChild(t[n]),$(t[n]).remove()},i.prototype.remove=function(){var e=this.element,t=e.parentNode;t.removeChild(e),$(e).remove()},i}(k),O=function(e){function n(t,n,r){e.call(this,t,n,r),this.gradientCache={},this.init(t,n,r)}return __extends(n,e),n.prototype.init=function(e,i,o){var u=this,a=t.location,f;this.symbols=n._symbols,this.Element=A,$(e).is("svg")?(u.box=e,f=new u.Element,f.element=e,f.render=u,u.defs=$("defs",e).get(0),u.gradients={}):(f=u.createElement("svg").attr({xmlns:s,version:"1.1"}),e.appendChild(f.element),u.box=f.element,u.boxWrapper=f,u.defs=this.createElement("defs").add(),u.gradients={},u.setSize(i,o)),u.url=r?"":a.href.replace(/#.*?$/,"")},n.prototype.destroy=function(){var e=this;return e.box=null,C(e.gradients||{}),e.gradients=null,null},n.prototype.createElement=function(e){var t=new this.Element;return t.init(this,e),t},n.prototype.path=function(e){var t=this.createElement("path");return t.attr({d:e,fill:v}),t},n.prototype.circle=function(e,t,n){var r=$.isPlainObject(e)?e:{x:e,y:t,r:n},i=this.createElement("circle");return i.attr(r),i},n.prototype.rect=function(e,t,n,r,i,s){$.isPlainObject(e)&&(t=e.y,n=e.width,r=e.height,i=e.r,s=e.strokeWidth,e=e.x);var o=this.createElement("rect");return o.attr({rx:i,ry:i,fill:v}),o.attr(o.crisp(s,e,t,Math.max(n,0),Math.max(r,0))),o},n.prototype.setSize=function(e,t){var n=this;n.width=e,n.height=t,n.boxWrapper.attr({width:e,height:t})},n.prototype.g=function(e){var t=this.createElement("g");return S(e)&&t.attr({"class":c+e}),t},n.prototype.text=function(e,t,n){$.isPlainObject(e)&&(t=e.y,n=e.text,e=e.x);var r=this.createElement("text");return r.attr({x:e,y:t,"text-anchor":"middle"}),r.element.textContent=n,r},n.prototype.symbol=function(e,t,n,r,i){var s,o=this,u=o.symbols[e],a=u&&u(Math.round(t),Math.round(n),r,i);return a?(s=o.path(a),$.extend(s,{symbolName:e,x:t,y:n,r:r}),i&&$.extend(s,i)):s=o.circle(t,n,r),s},n._symbols={box:function(e,t,n){var r=.707*n;return[m,e-r,t-r,g,e+r,t-r,e+r,t+r,e-r,t+r,"Z"]},tri:function(e,t,n){return[m,e,t-1.33*n,g,e+n,t+.67*n,e-n,t+.67*n,"Z"]},invertedTri:function(e,t,n){return[m,e,t+1.33*n,g,e-n,t-.67*n,e+n,t-.67*n,"Z"]},diamond:function(e,t,n){return[m,e,t-n,g,e+n,t,e,t+n,e-n,t,"Z"]},cross:function(e,t,n){var r=.707*n;return[m,e-r,t-r,g,e+r,t+r,m,e-r,t+r,g,e+r,t-r]},arc:function(e,t,n,r){var i=r.start,s=r.end-1e-6,o=r.innerR,u=Math.cos(i),a=Math.sin(i),f=Math.cos(s),l=Math.sin(s),c=r.end-i<Math.PI?0:1;return[m,e+n*u,t+n*a,"A",n,n,0,c,1,e+n*f,t+n*l,g,e+o*f,t+o*l,"A",o,o,0,c,0,e+o*u,t+o*a,"Z"]}},n.prototype.clipRect=function(e,t,n,r){var i,s=c+u++,o=this.createElement("clipPath");return o.attr({id:s}),$(this.defs).append(o.element),i=this.rect(e,t,n,r,0).add(o),i.id=s,i.clipPath=o,i},n.prototype._parsegradientcolor=function(e){var t=this,n=[],r,i,s,o,u,a,f,l;if(t.gradientCache[e])return t.gradientCache[e];for(s=0,a=e.length;s<a;s++){r={},i=e[s].match(/^([^:]*):?([\d\.]*)/),r.color=Raphael.getRGB(i[1]);if(r.color.error)return null;r.color=r.color.hex,i[2]&&(r.offset=i[2]+"%"),n.push(r)}for(s=1,a=n.length-1;s<a;s++)if(!n[s].offset){o=parseFloat(n[s-1].offset||0),u=0;for(f=s+1;f<a;f++)if(n[f].offset){u=n[f].offset;break}u||(u=100,f=a),u=parseFloat(u),l=(u-o)/(f-s+1);for(;s<f;s++)o+=l,n[s].offset=o+"%"}return t.gradientCache[e]=n,n},n.prototype._color=function(e,t,n){var r=this,i="color",s=.5,o=.5,a=r.gradients,f,l,h,p,d,v,m,g,w,E,S=e,T,N,C;b.test(e)?i="linear":e=e.replace(y,function(e,t,n){i="radial";if(t&&n){s=parseFloat(t),o=parseFloat(n);var r=o>.5?1:-1;Math.pow(s-.5,2)+Math.pow(o-.5,2)>.25&&(o=Math.sqrt(.25-Math.pow(s-.5,2))*r+.5)&&o!==.5&&(o=parseFloat(o.toFixed(5))-1e-5*r)}return""});if(i==="linear"||i==="radial"){l=e.split(/\s*\-\s*/);if(i==="linear"){N=l.shift(),N=-parseFloat(N);if(isNaN(N))return e;g=[0,0,Math.cos(Raphael.rad(N)),Math.sin(Raphael.rad(N))],w=1/(Math.max(Math.abs(g[2]),Math.abs(g[3]))||1),g[2]*=w,g[3]*=w,g[2]<0&&(g[0]=-g[2],g[2]=0),g[3]<0&&(g[1]=-g[3],g[3]=0),h=g[0],p=g[1],d=g[2],v=g[3]}return a[S]?T=x(a[S].element,"id"):(C=this._parsegradientcolor(l),$.each(C,function(e,t){t.offset=t.offset?t.offset:e?"100%":"0%"}),T=c+u++,f=r.createElement(i+"Gradient"),i==="radial"?f.attr({id:T,fx:s,fy:o}):f.attr({id:T,x1:h,y1:p,x2:d,y2:v}),$(this.defs).append(f.element),f.stops=[],$.each(C,function(e,t){var n;m=t.color,E=1,n=r.createElement("stop"),n.attr({offset:t.offset,"stop-color":m,"stop-opacity":E}).add(f),f.stops.push(n)}),a[S]=f),"url(#"+T+")"}return t.removeAttribute(n+"-opacity"),e},n}(L),M=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.init=function(e,t){var n=["<",t,' filled="f" stroked="f"'],r=["position: ",f,";"];(t==="shape"||t===a)&&r.push("left:0;top:0;width:10px;height:10px;"),i&&r.push("visibility: ",t===a?l:h),n.push(' style="',r.join(""),'"/>'),t&&(n=t===a||t==="span"||t==="img"?n.join(""):e.prepVML(n),this.element=N(n)),this.renderer=e},t.prototype.add=function(e){var t=this,n=t.renderer,r=t.element,s=n.box,o=e&&e.inverted,u=e?e.element||e:s;return o,i&&u.gVis===l&&T(r,{visibility:l}),u.appendChild(r),t.added=!0,t},t.prototype.attr=function(e,t){var n,r,s,o=this,u=o.element||{},f=u.style,l=u.nodeName,c=o.symbolName,m=o.renderer,g,y,b=o.shadows,N,C,k=o;return e===undefined?k:(w(e)&&S(t)&&(n=e,e={},e[n]=t),w(e)?(n=e,n==="strokeWidth"||n==="stroke-width"?k=o.strokeweight:k=o[n]):e&&$.each(e,function(t,n){r=n,N=!1;if(c&&/^(x|y|r|start|end|width|height|innerR)/.test(t))y||(o.symbolAttr(e),y=!0),N=!0;else if(t==="d"){r=r||[],o.d=r.join(" "),s=r.length,C=[];while(s--)E(r[s])?C[s]=Math.round(r[s]*10)-5:r[s]==="Z"?C[s]="x":C[s]=r[s];r=C.join(" ")||"x",u.path=r;if(b){s=b.length;while(s--)b[s].path=r}N=!0}else if(t==="zIndex"||t===p){if(i&&t===p&&l===a){u.gVis=r,g=u.childNodes,s=g.length;while(s--)T(g[s],{visibility:r});r===h&&(r=null)}r&&(f[t]=r),N=!0}else t==="class"?u.className=r:t==="stroke"?t="strokecolor":t==="stroke-width"||t==="strokeWidth"?(u.stroked=r?!0:!1,t="strokeweight",o[t]=r,E(r)&&(r+=d)):t==="fill"&&(l==="SPAN"?f.color=r:(u.filled=r!==v?!0:!1,r=m.color(r,u,t),t="fillcolor"));N||(t==="opacity"&&(t="fill-opacity"),i?u[t]=r:x(u,t,r)),u.attrs=u.attrs||{},u.attrs[t]=r}),k)},t.prototype.scale=function(e,t){var n=this,r=n.attr("stroke-width")||0;n.css({filter:"progid:DXImageTransform.Microsoft.Matrix(M11="+e+","+", M12=0, M21=0, M22="+t+", Dx=0, Dy=0, sizingmethod='auto expand')"}).attr("stroke-width",r)},t.prototype.clip=function(e){var t=this,n=e.members;return n.push(t),t.css(e.getCSS(t.inverted))},t.prototype.css=function(e){var t=this,n=t.element,r=e&&n.tagName==="SPAN"&&e.width;return r&&(delete e.width,t.textWidth=r),t.styles=$.extend(t.styles,e),T(t.element,e),t},t.prototype.destroy=function(){var e=this;return e.destroyClip&&e.destroyClip(),A.prototype.destroy.apply(e)},t.prototype.empty=function(){var e=this.element,t=e.childNodes,n=t.length,r;while(n--)r=t[n],r.parentNode.removeChild(r),$(r).remove()},t.prototype.getBBox=function(){var e=this,t=e.element,n=e.bBox;return n||(t.nodeName==="text"&&(t.style.position=f),n=e.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}),n},t}(A),_=function(e){function r(){e.apply(this,arguments),this.isIE8=$.browser.msie&&parseInt($.browser.version)===8}return __extends(r,e),r.prototype.init=function(e,n,i){var s=this,o;this.Element=M,this.symbols=r._symbols,$(e).hasClass("vmlcontainer")?(s.box=e,o=new this.Element,o.element=e,o.render=this,s.boxWrapper=o):(o=s.createElement(a),e.appendChild(o.element),s.box=o.element,s.boxWrapper=o,s.setSize(n,i)),t.namespaces.v||(t.namespaces.add("v","urn:schemas-microsoft-com:vml"),t.createStyleSheet().cssText="v\\:fill, v\\:path, v\\:shape, v\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},r.prototype.clipRect=function(e,t,r,s){var o=this.createElement();return $.extend(o,{members:[],left:e,top:t,width:r,height:s,getCSS:function(e){var t=this,n=t.top,r=t.left,s=r+t.width,o=n+t.height,u={clip:"rect("+Math.round(e?r:n)+"px,"+Math.round(e?o:s)+"px,"+Math.round(e?s:o)+"px,"+Math.round(e?n:r)+"px)"};return!e&&i&&$.extend(u,{width:s+d,height:o+d}),u},updateClipping:function(){n(o.members,function(e,t){t.css(o.getCSS(t.inverted))})}}),o},r.prototype.color=function(e,t,n){var r,i=this,s="color",o,u,a,f,l=[],c,h,p,d,v=0;b.test(e)?s="linear":e=e.replace(y,function(e,t,n){return s="radial",t&&n&&(t=parseFloat(t),n=parseFloat(n),Math.pow(t-.5,2)+Math.pow(n-.5,2)>.25&&(n=Math.sqrt(.25-Math.pow(t-.5,2))*((n>.5?1:0)*2-1)+.5),p=t+" "+n),""});if(s!=="linear"&&s!=="radial")return h=t.getElementsByTagName(n),h.length&&(h[0].opacity=1),e;o=e.split(/\s*\-\s*/),s==="linear"&&(v=o.shift(),v=-parseFloat(v.toString())),d=i._parsegradientcolor(o),$.each(d,function(e,t){t.offset=t.offset?t.offset:e?"100%":"0%",l.push(t.offset+" "+t.color),u=t.color,e?f=u:a=u}),s==="radial"?r=['<fill colors="',l.join(),'" angle="0"','" focusposition="',p,'" color="',a,'" color2="',f,'" focussize="0 0"',' type="gradientTitle" focus="100%" method="none" />']:r=['<fill colors="',l.join(),'" angle="',v.toString(),'" type="gradient" focus="100%" method="sigma" />'],c=N(i.prepVML(r)),$(t).append(c)},r.prototype.prepVML=function(e){var t="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;return e=e.join(""),n?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e.indexOf('style="')===-1?e=e.replace("/>",' style="'+t+'" />'):e=e.replace('style="','style="'+t)):e=e.replace("<","<v:"),e},r.prototype.path=function(e){var t=this.createElement("shape");return t.attr({coordsize:"100 100",d:e}),t},r.prototype.g=function(e){var t,n;return e&&(n={className:c+e,"class":c+e}),t=this.createElement(a).attr(n),t},r.prototype.text=function(e,t,n){var r=this.createElement("span"),i=r.element,s,o;return i.innerHTML=n,$(i).appendTo("body"),s=$(i).width(),o=$(i).height(),e-=s/2,t-=o/2,r.x=e,r.y=t,$(i).css({position:"absolute","white-space":"nowrap","font-family":"Arial","font-size":"10",left:e+"px",top:t+"px"}),r},r._symbols=$.extend({},O._symbols,{arc:function(e,t,n,r){var i=r.start,s=r.end,o=Math.cos(i),u=Math.sin(i),a=Math.cos(s),f=Math.sin(s),l=r.innerR,c=.07/n,h=l&&.1/l||0;return s-i===0?["x"]:(2*Math.PI-s+i<c?a=-c:s-i<h&&(a=Math.cos(i+h)),["wa",e-n,t-n,e+n,t+n,e+n*o,t+n*u,e+n*a,t+n*f,"at",e-l,t-l,e+l,t+l,e+l*a,t+l*f,e+l*o,t+l*u,"x","e"])},circle:function(e,t,n){return["wa",e-n,t-n,e+n,t+n,e+n,t,e+n,t,"e"]},rect:function(e,t,n,r){if(!S(r))return[];var i=r.width,s=r.height,o=e+i,u=t+s;return n=Math.min(n,i,s),[m,e+n,t,g,o-n,t,"wa",o-2*n,t,o,t+2*n,o-n,t,o,t+n,g,o,u-n,"wa",o-2*n,u-2*n,o,u,o,u-n,o-n,u,g,e+n,u,"wa",e,u-2*n,e+2*n,u,e+n,u,e,u-n,g,e,t+n,"wa",e,t,e+2*n,t+2*n,e,t+n,e+n,t,"x","e"]}}),r}(O);e.createRender=D})(e.render||(e.render={}));var t=e.render})(e.chart||(e.chart={}));var t=e.chart})(wijmo||(wijmo={}));