var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijlistview",i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._baseWidget=function(){return n.mobile.listview},t.prototype._getListViewFromData=function(){return this.element.data("wijmoWijlistview")},t.prototype._create=function(){var t=this._getListViewFromData();n.mobile.version.slice(0,4)=="1.2."?this.element.data("listview",t):this.element.data("mobile-listview",t),e.prototype._create.call(this);var r=this.element.closest("div[data-role='content']");r&&r.length>0||this.element.wrap("<div data-role='content' class='ui-content' />")},t}(e.wijmoWidget);t.wijlistview=i;if(n.mobile){i.prototype.widgetName="wijlistview",i.prototype.widgetEventPrefix="listview",i.prototype.options=n.extend({},n.mobile.listview.prototype.options,e.wijmoWidget.prototype.options,{initSelector:":jqmData(role='wijlistview')"}),n.wijmo.registerWidget(r,n.mobile.listview,i.prototype);if(n.mobile.version.slice(0,4)=="1.2."){i.prototype.options.filter=!1,i.prototype.options.filterPlaceholder="Filter items...",i.prototype.options.filterTheme="c",i.prototype.options.filterReveal=!1;var s=function(e,t,n){return e.toString().toLowerCase().indexOf(t)===-1};i.prototype.options.filterCallback=s,n(document).delegate("ul,ol","listviewcreate",function(){var e=n(this),t=e.data("listview");if(!t.options.filter)return;t.options.filterReveal&&e.children().addClass("ui-screen-hidden");var r=n("<form>",{"class":"ui-listview-filter ui-bar-"+t.options.filterTheme,role:"search"}),i=n("<input>",{placeholder:t.options.filterPlaceholder}).attr("data-"+n.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var r=n(this),i=this.value.toLowerCase(),o=null,u=r.jqmData("lastval")+"",a=!1,f="",l,c=t.options.filterCallback!==s;t._trigger("beforefilter","beforefilter",{input:this}),r.jqmData("lastval",i),c||i.length<u.length||i.indexOf(u)!==0?o=e.children():(o=e.children(":not(.ui-screen-hidden)"),!o.length&&t.options.filterReveal&&(o=e.children(".ui-screen-hidden")));if(i){for(var h=o.length-1;h>=0;h--)l=n(o[h]),f=l.jqmData("filtertext")||l.text(),l.is("li:jqmData(role=list-divider)")?(l.toggleClass("ui-filter-hidequeue",!a),a=!1):t.options.filterCallback(f,i,l)?l.toggleClass("ui-filter-hidequeue",!0):a=!0;o.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),o.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else o.toggleClass("ui-screen-hidden",!!t.options.filterReveal);t._refreshCorners()}).appendTo(r).textinput();t.options.inset&&r.addClass("ui-listview-filter-inset"),r.bind("submit",function(){return!1}).insertBefore(e)})}}})(e.listview||(e.listview={}));var t=e.listview})(wijmo||(wijmo={}));